(()=>{"use strict";var M={744:(e,p)=>{var c;c={value:!0},p.Z=(_,y)=>{for(const[b,k]of y)_[b]=k;return _}}},A={};function m(e){var p=A[e];if(p!==void 0)return p.exports;var c=A[e]={exports:{}};return M[e](c,c.exports,m),c.exports}m.r=e=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var v={};(()=>{m.r(v);const e=Vue,p={id:"app"},c={class:"container button-container",style:{"justify-content":"space-between"}},_={key:0},y=(0,e.createElementVNode)("b",null,"Validation error(s):",-1),b=["disabled"],k=(0,e.createElementVNode)("h3",null,"Select a resource:",-1),$=(0,e.createElementVNode)("option",{disabled:"",value:""},"Select a resource",-1),R=["disabled","value"],B=(0,e.createElementVNode)("h3",null,"Select a method:",-1),O=(0,e.createElementVNode)("option",{disabled:"",value:""},"Select a method",-1),j=["value"],I={key:1},T=[(0,e.createElementVNode)("option",{disabled:"",value:""},"Select a resource first",-1)],C=(0,e.createElementVNode)("br",null,null,-1),q=(0,e.createElementVNode)("h3",null,"Query string (optional)",-1),z=(0,e.createElementVNode)("br",null,null,-1),P=(0,e.createElementVNode)("br",null,null,-1);function F(n,s,i,o,a,r){return(0,e.openBlock)(),(0,e.createElementBlock)("div",p,[(0,e.createElementVNode)("div",c,[(0,e.createElementVNode)("h1",null,"API: "+(0,e.toDisplayString)(n.initialData.ApiName)+" ("+(0,e.toDisplayString)(n.initialData.ApiId)+")",1),n.errors.length?((0,e.openBlock)(),(0,e.createElementBlock)("div",_,[y,(0,e.createElementVNode)("ul",null,[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(n.errors,t=>((0,e.openBlock)(),(0,e.createElementBlock)("li",{key:t},(0,e.toDisplayString)(t),1))),128))])])):(0,e.createCommentVNode)("v-if",!0),(0,e.createElementVNode)("div",null,[(0,e.createElementVNode)("button",{class:"",onClick:s[0]||(s[0]=(...t)=>n.sendInput&&n.sendInput(...t)),disabled:n.isLoading},(0,e.toDisplayString)(n.invokeText),9,b)])]),(0,e.createElementVNode)("pre",null,(0,e.toDisplayString)(n.initialData.ApiArn),1),k,(0,e.withDirectives)((0,e.createElementVNode)("select",{"onUpdate:modelValue":s[1]||(s[1]=t=>n.selectedApiResource=t),onChange:s[2]||(s[2]=(...t)=>n.setApiResource&&n.setApiResource(...t))},[$,((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(n.initialData.Resources,t=>((0,e.openBlock)(),(0,e.createElementBlock)("option",{key:t.id,disabled:!t.resourceMethods,value:t.id},(0,e.toDisplayString)(`${t.path}${t.resourceMethods===void 0?" -- No methods":""}`),9,R))),128))],544),[[e.vModelSelect,n.selectedApiResource]]),B,n.selectedApiResource?(0,e.withDirectives)(((0,e.openBlock)(),(0,e.createElementBlock)("select",{key:0,"onUpdate:modelValue":s[3]||(s[3]=t=>n.selectedMethod=t)},[O,((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(n.methods,t=>((0,e.openBlock)(),(0,e.createElementBlock)("option",{key:t,value:t},(0,e.toDisplayString)(t),9,j))),128))],512)),[[e.vModelSelect,n.selectedMethod]]):((0,e.openBlock)(),(0,e.createElementBlock)("select",I,T)),C,q,(0,e.withDirectives)((0,e.createElementVNode)("input",{type:"text","onUpdate:modelValue":s[4]||(s[4]=t=>n.queryString=t)},null,512),[[e.vModelText,n.queryString]]),z,P,(0,e.withDirectives)((0,e.createElementVNode)("textarea",{style:{width:"100%","margin-bottom":"10px"},rows:"10",cols:"90","onUpdate:modelValue":s[5]||(s[5]=t=>n.jsonInput=t)},null,512),[[e.vModelText,n.jsonInput]])])}/*!
 * Copyright 2021 Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */class g{static registerGlobalCommands(){const s=new Event("remount");window.addEventListener("message",i=>{const{command:o}=i.data;o==="$clear"&&(vscode.setState({}),this.messageListeners.forEach(a=>this.removeListener(a)),window.dispatchEvent(s))})}static addListener(s){this.messageListeners.add(s),window.addEventListener("message",s)}static removeListener(s){this.messageListeners.delete(s),window.removeEventListener("message",s)}static sendRequest(s,i,o){const a=JSON.parse(JSON.stringify(o)),r=new Promise((t,h)=>{const l=f=>{const d=f.data;if(s===d.id)if(this.removeListener(l),window.clearTimeout(u),d.error===!0){const E=JSON.parse(d.data);h(new Error(E.message))}else d.event?(typeof o[0]!="function"&&h(new Error(`Expected frontend event handler to be a function: ${i}`)),t(this.registerEventHandler(i,o[0]))):t(d.data)},u=setTimeout(()=>{this.removeListener(l),h(new Error(`Timed out while waiting for response: id: ${s}, command: ${i}`))},3e5);this.addListener(l)});return vscode.postMessage({id:s,command:i,data:a}),r}static registerEventHandler(s,i){const o=a=>{const r=a.data;if(r.command===s){if(!r.event)throw new Error(`Expected backend handler to be an event emitter: ${s}`);i(r.data)}};return this.addListener(o),{dispose:()=>this.removeListener(o)}}static create(){return this.initialized||(this.initialized=!0,this.registerGlobalCommands()),new Proxy({},{set:()=>{throw new TypeError("Cannot set property to webview client")},get:(s,i)=>{var o;if(typeof i!="string"){console.warn(`Tried to index webview client with non-string property: ${String(i)}`);return}if(i==="init"){const r=(o=vscode.getState())!=null?o:{};if(r.__once)return()=>Promise.resolve();vscode.setState(Object.assign(r,{__once:!0}))}const a=(this.counter++).toString();return(...r)=>this.sendRequest(a,i,r)}})}}g.counter=0,g.initialized=!1,g.messageListeners=new Set;/*!
 * Copyright 2021 Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */const w=new Set;window.addEventListener("remount",()=>w.clear());const J={created(){var n,s,i,o,a;if(this.$data===void 0)return;const r=(n=vscode.getState())!=null?n:{};this.$options._count=((s=this.$options._count)!=null?s:0)+1;const t=(o=this.id)!=null?o:`${(i=this.name)!=null?i:`DEFAULT-${w.size}`}-${this.$options._count}`;if(this.$options._unid=t,w.has(t)){console.warn(`Component "${t}" already exists. State-saving functionality will be disabled.`);return}w.add(t);const h=(a=r[t])!=null?a:{};Object.keys(this.$data).forEach(l=>{var u;this.$data[l]=(u=h[l])!=null?u:this.$data[l]}),Object.keys(this.$data).forEach(l=>{this.$watch(l,u=>{var f,d;const E=(f=vscode.getState())!=null?f:{},Z=Object.assign((d=E[t])!=null?d:{},{[l]:u!==void 0?JSON.parse(JSON.stringify(u)):void 0});vscode.setState(Object.assign(E,{[t]:Z}))},{deep:!0})})}},S=g.create(),U={ApiName:"",ApiId:"",ApiArn:"",Resources:{},Region:"",localizedMessages:{noApiResource:"noApiResource",noMethod:"noMethod"}},x=(0,e.defineComponent)({mixins:[J],data:()=>({initialData:U,selectedApiResource:"",selectedMethod:"",methods:[],jsonInput:"",queryString:"",errors:[],isLoading:!1}),async created(){var n;this.initialData=(n=await S.init())!=null?n:this.initialData},methods:{setApiResource:async function(){const n=await S.listValidMethods(this.initialData.Resources[this.selectedApiResource]);this.methods=n,this.selectedMethod=n[0]},sendInput:function(){this.errors=[],this.selectedApiResource||this.errors.push(this.initialData.localizedMessages.noApiResource),this.selectedMethod||this.errors.push(this.initialData.localizedMessages.noMethod),!(this.errors.length>0)&&(this.isLoading=!0,S.invokeApi({body:this.jsonInput,api:this.initialData.ApiId,selectedApiResource:this.initialData.Resources[this.selectedApiResource],selectedMethod:this.selectedMethod,queryString:this.queryString,region:this.initialData.Region}).finally(()=>this.isLoading=!1))}},computed:{invokeText(){return this.isLoading?"Invoking...":"Invoke"}}});var H=m(744);const G=(0,H.Z)(x,[["render",F]]);/*!
 * Copyright 2021 Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */const V=()=>(0,e.createApp)(G),L=V();L.mount("#vue-app"),window.addEventListener("remount",()=>{L.unmount(),V().mount("#vue-app")})})();var D=this;for(var N in v)D[N]=v[N];v.__esModule&&Object.defineProperty(D,"__esModule",{value:!0})})();

//# sourceMappingURL=index.js.map