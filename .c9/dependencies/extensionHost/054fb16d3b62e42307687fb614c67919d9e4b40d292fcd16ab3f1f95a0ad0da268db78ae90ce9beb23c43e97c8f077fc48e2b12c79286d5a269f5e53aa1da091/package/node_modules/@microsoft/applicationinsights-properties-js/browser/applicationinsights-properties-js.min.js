/*!
 * Application Insights JavaScript SDK - Properties Plugin, 2.8.3
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */
var e=this,n=function(e){"use strict";var E="function",a="object",V="undefined",o="prototype",R="hasOwnProperty",t=Object,n=t[o],j=t.create,r=t.defineProperty,q=n[R],B=null;function K(e){return void 0===e&&(e=!0),B&&e||(typeof globalThis!==V&&globalThis&&(B=globalThis),typeof self!==V&&self&&(B=self),typeof window!==V&&window&&(B=window),typeof global!==V&&global&&(B=global)),B}function F(e){throw new TypeError(e)}(K()||{}).Symbol,(K()||{}).Reflect;var z=function(e,n){return(z=t.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n[R](t)&&(e[t]=n[t])})(e,n)};function W(e,n){function t(){this.constructor=e}typeof n!==E&&null!==n&&F("Class extends value "+n+" is not a constructor or null"),z(e,n),e[o]=null===n?function(e){if(j)return j(e);if(null==e)return{};var n=typeof e;function t(){}return n!==a&&n!==E&&F("Object prototype may only be an Object:"+e),t[o]=e,new t}(n):(t[o]=n[o],new t)}var J="constructor",p="prototype",$="function",G="_dynInstFuncs",H="_isDynProxy",X="_dynClass",Y="_dynInstChk",Z=Y,Q="_dfOpts",ee="_unknown_",ne="__proto__",te="_dyn"+ne,oe="_dynInstProto",re="useBaseInst",ie="setInstFuncs",ae=Object,ue=ae.getPrototypeOf,ce=ae.getOwnPropertyNames,se=0;function v(e,n){return e&&ae[p].hasOwnProperty.call(e,n)}function le(e){return e&&(e===ae[p]||e===Array[p])}function fe(e){return le(e)||e===Function[p]}function h(e){if(e){if(ue)return ue(e);var n=e[ne]||e[p]||(e[J]?e[J][p]:null),t=e[te]||n;v(e,te)||(delete e[oe],t=e[te]=e[oe]||e[te],e[oe]=n)}return t}function de(e,n){var t=[];if(ce)t=ce(e);else for(var o in e)"string"==typeof o&&v(e,o)&&t.push(o);if(t&&0<t.length)for(var r=0;r<t.length;r++)n(t[r])}function ge(e,n,t){return n!==J&&typeof e[n]===$&&(t||v(e,n))}function pe(e){throw new TypeError("DynamicProto: "+e)}function ve(e,n){for(var t=e.length-1;0<=t;t--)if(e[t]===n)return 1}function he(e,n){return v(e,p)?e.name||n||ee:((e||{})[J]||{}).name||n||ee}function y(e,o,n,t){v(e,p)||pe("theClass is an invalid class definition.");var r,i,a,u,c,s,l=e[p],f=(function(e){if(!ue)return 1;for(var n=[],t=h(o);t&&!fe(t)&&!ve(n,t);){if(t===e)return 1;n.push(t),t=h(t)}}(l)||pe("["+he(e)+"] is not in class hierarchy of ["+he(o)+"]"),null),e=(v(l,X)?f=l[X]:(f="_dynCls$"+he(e,"_")+"$"+se,se++,l[X]=f),y[Q]),d=!!e[re],g=(d&&t&&t[re]!==undefined&&(d=!!t[re]),i={},de(r=o,function(e){!i[e]&&ge(r,e,!1)&&(i[e]=r[e])}),i),d=(n(o,function(e,n,t,i){function o(e,n,t){var o,r=n[t];return r[H]&&i&&!1!==(o=e[G]||{})[Z]&&(r=(o[n[X]]||{})[t]||r),function(){return r.apply(e,arguments)}}for(var r={},a=(de(t,function(e){r[e]=o(n,t,e)}),h(e)),u=[];a&&!fe(a)&&!ve(u,a);)de(a,function(e){!r[e]&&ge(a,e,!ue)&&(r[e]=o(n,a,e))}),u.push(a),a=h(a);return r}(l,o,g,d)),!!ue&&!!e[ie]);a=l,n=f,u=o,c=g,e=!1!==(d=d&&t?!!t[ie]:d),le(a)||(l=u[G]=u[G]||{},s=l[n]=l[n]||{},!1!==l[Z]&&(l[Z]=!!e),de(u,function(e){var t,o,r;ge(u,e,!1)&&u[e]!==c[e]&&(s[e]=u[e],delete u[e],v(a,e)&&(!a[e]||a[e][H])||(a[e]=(t=a,o=e,(r=function(){var e,n;return(function(e,n,t,o){var r=null;if(e&&v(t,X)){var i=e[G]||{};if((r=(i[t[X]]||{})[n])||pe("Missing ["+n+"] "+$),!r[Y]&&!1!==i[Z]){for(var a=!v(e,n),u=h(e),c=[];a&&u&&!fe(u)&&!ve(c,u);){var s=u[n];if(s){a=s===o;break}c.push(u),u=h(u)}try{a&&(e[n]=r),r[Y]=1}catch(l){i[Z]=!1}}}return r}(this,o,t,r)||(typeof(n=(n=t[e=o])===r?h(t)[e]:n)!==$&&pe("["+e+"] is not a "+$),n)).apply(this,arguments)})[H]=1,r)))}))}y[Q]={setInstFuncs:!0,useBaseInst:!0};var g="",ye="isInitialized",me="teardown",xe="core",Ce="update",we="disabled",Ie="_doTeardown",Se="toISOString",be="endsWith",Ne="trim",ke="toString",_e="constructor",Te=r,Pe=t.freeze,Me=t.keys,i=String[o],Ue=i[Ne],De=i[be],Ae=Date[o][Se],i=Array.isArray,Le=n[ke],Oe=q[ke],Ee=Oe.call(t),Ve=/-([a-z])/g,Re=/([^\w\d_$])/g,je=/^(\d+[\w\d_$])/,qe=Object.getPrototypeOf;function m(e){return e===undefined||typeof e===V}function x(e){return null===e||m(e)}function Be(e){return!x(e)}function Ke(e){return!(!e||typeof e!==a)}function C(e){return!(!e||typeof e!==E)}function Fe(e){var n=e;return e&&S(e)?(n=(n=e.replace(Ve,function(e,n){return n.toUpperCase()})).replace(Re,"_")).replace(je,function(e,n){return"_"+n}):n}function f(e,n){if(e)for(var t in e)q.call(e,t)&&n.call(e,t,e[t])}function w(e,n){return!(!e||!n||!~e.indexOf(n))}var I=i||function(e){return!(!e||"[object Array]"!==Le.call(e))};function S(e){return"string"==typeof e}function ze(e){return e&&"object"==typeof e&&(!(e=(qe||function(e){if(e){if(qe)return qe(e);e=e.__proto__||e[o]||e[_e];if(e)return e}return null})(e))||typeof(e=e[_e]&&q.call(e,_e)?e[_e]:e)===E&&Oe.call(e)===Ee)}function We(e,n,t){var o=e.length;try{for(var r=0;r<o&&!(r in e&&-1===n.call(t||e,e[r],r,e));r++);}catch(i){}}function b(e){return e&&(Ue&&e[Ne]?e[Ne]():e.replace?e.replace(/^\s+|\s+$/g,""):e)}var Je=!{toString:null}.propertyIsEnumerable("toString"),$e=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Ge=Pe||function(e){return e};function He(){var e=Date;return e.now?e.now():(new e).getTime()}function Xe(e){return e&&"[object Error]"===Le.call(e)?e.name:g}function N(e,n,t,o,r){var i=t;!e||(i=e[n])===t||r&&!r(i)||o&&!o(t)||(e[n]=i=t)}function d(e,n,t){var o;return e?!(o=e[n])&&x(o)&&(o=m(t)?{}:t,e[n]=o):o=m(t)?{}:t,o}function Ye(e){return!!e}function Ze(e){var t={};return f(e,function(e,n){t[e]=n,t[n]=e}),e=t,Pe&&f(e,function(e,n){(I(n)||Ke(n))&&Pe(n)}),Ge(e)}var Qe="window",en="navigator",nn="location",tn="JSON",on="crypto",rn="msCrypto",an="msie",un="trident/",cn=null,sn=null,ln=!1;function s(e){var n=K();return n&&n[e]?n[e]:e===Qe&&fn()?window:null}function fn(){return typeof window===a&&window}function dn(){return typeof navigator===a&&navigator?navigator:s(en)}function gn(e){if(e&&ln){e=s("__mockLocation");if(e)return e}return typeof location===a&&location?location:s(nn)}function pn(){return typeof JSON===a&&JSON||null!==s(tn)}function vn(){return pn()?JSON||s(tn):null}function hn(){var e=dn();return!e||e.userAgent===sn&&null!==cn||(e=((sn=e.userAgent)||g).toLowerCase(),cn=w(e,an)||w(e,un)),cn}function k(e){var n=Object[o].toString.call(e),t=g;return"[object Error]"===n?t="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":pn()&&(t=vn().stringify(e)),n+t}var yn=null;function mn(e){return e?'"'+e.replace(/\"/g,g)+'"':g}function xn(e,n){var t,o=typeof console!==V?console:s("console");o&&(t="log",C(o[t=o[e]?e:t])&&o[t](n))}wn.dataType="MessageData";var Cn=wn;function wn(e,n,t,o){void 0===t&&(t=!1),this.messageId=e,this.message=(t?"AI: ":"AI (Internal): ")+e;t=g,pn()&&(t=vn().stringify(o)),e=(n?" message:"+mn(n):g)+(o?" props:"+mn(t):g);this.message+=e}function In(e,n){return(e||{}).logger||new Sn(n)}var Sn=function eo(r){this.identifier="DiagnosticLogger",this.queue=[];var u=0,c={};y(eo,this,function(i){function e(e,n){e=r[e];return x(e)?n:e}function a(e,n){var t,o=(t=(t=yn)||!0===r.disableDbgExt?t:yn||(o=s("Microsoft"),yn=o?o.ApplicationInsights:yn))?t.ChromeDbgExt:null;o&&o.diagLog&&o.diagLog(e,n)}x(r)&&(r={}),i.consoleLoggingLevel=function(){return e("loggingLevelConsole",0)},i.telemetryLoggingLevel=function(){return e("loggingLevelTelemetry",1)},i.maxInternalMessageLimit=function(){return e("maxMessageLimit",25)},i.enableDebugExceptions=function(){return e("enableDebugExceptions",!1)},i.throwInternal=function(e,n,t,o,r){n=new Cn(n,t,r=void 0!==r&&r,o);if(i.enableDebugExceptions())throw k(n);t=1===e?"errorToConsole":"warnToConsole";m(n.message)?a("throw"+(1===e?"Critical":"Warning"),n):(o=i.consoleLoggingLevel(),r?(r=+n.messageId,!c[r]&&e<=o&&(i[t](n.message),c[r]=!0)):e<=o&&i[t](n.message),i.logInternalMessage(e,n))},i.warnToConsole=function(e){xn("warn",e),a("warning",e)},i.errorToConsole=function(e){xn("error",e),a("error",e)},i.resetInternalMessageCount=function(){u=0,c={}},i.logInternalMessage=function(e,n){var t,o;u>=i.maxInternalMessageLimit()||(o=!0,t="AITR_"+n.messageId,c[t]?o=!1:c[t]=!0,o&&(e<=i.telemetryLoggingLevel()&&(i.queue.push(n),u++,a(1===e?"error":"warn",n)),u===i.maxInternalMessageLimit()&&(o=new Cn(23,t="Internal events throttle limit per PageView reached for this app.",!1),i.queue.push(o),1===e?i.errorToConsole(t):i.warnToConsole(t))))}})};function _(e,n,t,o,r,i){void 0===i&&(i=!1),(e||new Sn).throwInternal(n,t,o,r,i)}u.ParentContextKey="parent",u.ChildrenContextKey="childEvts";var bn=u;function u(e,r,n){var o,i=this,a=!1;i.start=He(),i.name=e,i.isAsync=n,i.isChildEvt=function(){return!1},C(r)&&(a=function(e){if(Te)try{var n={enumerable:!0,configurable:!0,get:function(){return!o&&C(r)&&(o=r(),r=null),o}};return Te(e,"payload",n),!0}catch(t){}return!1}(i)),i.getCtx=function(e){return e?(e===u.ParentContextKey||e===u.ChildrenContextKey?i:i.ctx||{})[e]:null},i.setCtx=function(e,n){e&&(e===u.ParentContextKey?(i[e]||(i.isChildEvt=function(){return!0}),i[e]=n):e===u.ChildrenContextKey?i[e]=n:(i.ctx=i.ctx||{})[e]=n)},i.complete=function(){var e=0,n=i.getCtx(u.ChildrenContextKey);if(I(n))for(var t=0;t<n.length;t++){var o=n[t];o&&(e+=o.time)}i.time=He()-i.start,i.exTime=i.time-e,i.complete=function(){},!a&&C(r)&&(i.payload=r())}}var Nn="CoreUtils.doPerf";function kn(e,n,t,o,r){if(e)if(e=C(e.getPerfMgr)?e.getPerfMgr():e){var i,a=void 0,u=e.getCtx(Nn);try{if(a=e.create(n(),o,r))return u&&a.setCtx&&(a.setCtx(bn.ParentContextKey,u),u.getCtx&&u.setCtx&&((i=u.getCtx(bn.ChildrenContextKey))||(i=[],u.setCtx(bn.ChildrenContextKey,i)),i.push(a))),e.setCtx(Nn,a),t(a)}catch(c){a&&a.setCtx&&a.setCtx("exception",c)}finally{a&&e.fire(a),e.setCtx(Nn,u)}}t()}var _n=4294967296,c=4294967295,Tn=!1,Pn=123456789,Mn=987654321;function Un(e){var n,t=0,o=s(on)||s(rn);if(0===(t=o&&o.getRandomValues?o.getRandomValues(new Uint32Array(1))[0]&c:t)&&hn()){if(!Tn)try{var r=2147483647&He();(n=(Math.random()*_n^r)+r)<0&&(n>>>=0),Pn=123456789+n&c,Mn=987654321-n&c,Tn=!0}catch(i){}o=((Mn=36969*(65535&Mn)+(Mn>>16)&c)<<16)+(65535&(Pn=18e3*(65535&Pn)+(Pn>>16)&c))>>>0&c|0,t=(o>>>=0)&c}return 0===t&&(t=Math.floor(_n*Math.random()|0)),e||(t>>>=0),t}function Dn(e){void 0===e&&(e=22);for(var n=Un()>>>0,t=0,o=g;o.length<e;)o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[0|63&n]||"",n>>>=6,5==++t&&(n=(Un()<<2&4294967295|3&n)>>>0,t=0);return o}var An=r,n="."+Dn(6);function Ln(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}var On,En=On={id:Fe("_aiData-plugin.2.8.30"+((M=void 0!==M&&M)?".2.8.3":"")+n),accept:Ln,get:function(e,n,t,o){var r=e[On.id];return r?r[Fe(n)]:(o&&((r=function(e,n){var t=n[e.id];if(!t){t={};try{Ln(n)&&!function(e,n,t){if(An)try{return An(e,n,{value:t,enumerable:!1,configurable:!0}),1}catch(o){}}(n,e.id,t)&&(n[e.id]=t)}catch(o){}}return t}(On,e))[Fe(n)]=t),t)},kill:function(e,n){if(e&&e[n])try{delete e[n]}catch(t){}}};function Vn(e){return En.get(e,"state",{},!0)}var Rn="TelemetryPluginChain",jn="_hasRun",qn="_getTelCtx",Bn=0;function Kn(e,a,t,n){var o=null,r=[],i=(null!==n&&(o=n?function(e,n,t){for(;e;){if(e.getPlugin()===t)return e;e=e.getNext()}return zn([t],n.config||{},n)}(e,t,n):e),{_next:function(){var e,n=o;return o=n?n.getNext():null,n||(e=r)&&0<e.length&&(We(e,function(e){try{e.func.call(e.self,e.args)}catch(n){_(t.logger,2,73,"Unexpected Exception during onComplete - "+k(n))}}),r=[]),n},ctx:{core:function(){return t},diagLog:function(){return In(t,a)},getCfg:function(){return a},getExtCfg:u,getConfig:function(e,n,t){void 0===t&&(t=!1);var o,e=u(e,null);return e&&!x(e[n])?o=e[n]:a&&!x(a[n])&&(o=a[n]),x(o)?t:o},hasNext:function(){return!!o},getNext:function(){return o},setNext:function(e){o=e},iterate:function(e){for(;n=i._next();){var n=n.getPlugin();n&&e(n)}},onComplete:function(e,n){for(var t=[],o=2;o<arguments.length;o++)t[o-2]=arguments[o];e&&r.push({func:e,self:m(n)?i.ctx:n,args:t})}}});function u(e,n,t){var o,r,i;return void 0===n&&(n={}),void 0===t&&(t=0),(o=a&&(r=a.extensionConfig)&&e?r[e]:o)?Ke(n)&&0!==t&&(i=function d(){var e=arguments,n=e[0]||{},t=e.length,o=!1,r=1;for(0<t&&"boolean"==typeof n&&(o=n,n=e[r]||{},r++),Ke(n)||(n={});r<t;r++){var i,a,u,c,s=e[r],l=I(s),f=Ke(s);for(i in s)(l&&i in s||f&&q.call(s,i))&&(a=s[i],u=void 0,o&&a&&((u=I(a))||ze(a))&&(c=n[i],u?I(c)||(c=[]):ze(c)||(c={}),a=d(o,c,a)),a!==undefined&&(n[i]=a))}return n}(!0,n,o),a&&2===t&&f(n,function(e){var n;x(i[e])&&!x(n=a[e])&&(i[e]=n)}),o=i):o=n,o}return i}function Fn(e,t,o,n){var r=Kn(e,t,o,n),i=r.ctx;return i.processNext=function(e){var n=r._next();return n&&n.processTelemetry(e,i),!n},i.createNew=function(e,n){return Fn((e=I(e=void 0===e?null:e)?zn(e,t,o,n):e)||i.getNext(),t,o,n)},i}function zn(e,n,t,o){var r,i=null,a=!o;return I(e)&&0<e.length&&(r=null,We(e,function(e){(a=!a&&o===e||a)&&e&&C(e.processTelemetry)&&(e=Wn(e,n,t),i=i||e,r&&r._setNext(e),r=e)})),o&&!i?zn([o],n,t):i}function Wn(c,o,r){var s=null,i=C(c.processTelemetry),a=C(c.setNextPlugin),l=c?c.identifier+"-"+c.priority+"-"+Bn++:"Unknown-0-"+Bn++,u={getPlugin:function(){return c},getNext:function(){return s},processTelemetry:function(t,e){var n;f(e=e||(n=(n=c&&C(c[qn])?c[qn]():n)||Fn(u,o,r)),function(e){if(!c||!i)return!1;var n=Vn(c);return!n.teardown&&!n[we]&&(a&&c.setNextPlugin(s),c.processTelemetry(t,e),!0)},"processTelemetry",function(){return{item:t}},!t.sync)||e.processNext(t)},unload:function(o,r){f(o,function(){var e,n,t=!1;return c&&(e=Vn(c),n=c[xe]||e.core,!c||n&&n!==o[xe]()||e[me]||(e[xe]=null,e[me]=!0,e[ye]=!1,c[me]&&!0===c[me](o,r)&&(t=!0))),t},"unload",function(){},r.isAsync)||o.processNext(r)},update:function(o,r){f(o,function(){var e,n,t=!1;return c&&(e=Vn(c),n=c[xe]||e.core,!c||n&&n!==o[xe]()||e[me]||c[Ce]&&!0===c[Ce](o,r)&&(t=!0)),t},"update",function(){},!1)||o.processNext(r)},_id:l,_setNext:function(e){s=e}};function f(t,o,r,e,n){var i=!1,a=c?c.identifier:Rn,u=(u=t[jn])||(t[jn]={});return t.setNext(s),c&&kn(t[xe](),function(){return a+":"+r},function(){u[l]=!0;try{var e=s?s._id:g;e&&(u[e]=!1),i=o(t)}catch(n){e=!s||u[s._id];e&&(i=!0),s&&e||_(t.diagLog(),1,73,"Plugin ["+a+"] failed during "+r+" - "+k(n)+", run flags: "+k(u))}},e,n),i}return Ge(u)}var Jn="toGMTString",$n="toUTCString",Gn="cookie",Hn="expires",Xn="enabled",Yn="isCookieUseDisabled",Zn="disableCookiesUsage",T="_ckMgr",Qn=null,et=null,nt=null,tt=typeof document===a&&document?document:s("document"),ot={},rt={};function it(e){return!e||e.isEnabled()}function at(e,n){var t,o;return e?t=e.getCookieMgr():n&&(t=n.cookieCfg[T]||ut(n)),t||(e=(e||{}).logger,(o=ut[T]||rt[T])||(o=ut[T]=ut(n,e),rt[T]=o),t=o),t}function ut(e,r){N(t=(e=e||rt).cookieCfg=e.cookieCfg||{},"domain",e.cookieDomain,Be,x),N(t,"path",e.cookiePath||"/",null,x),x(t[Xn])&&(n=void 0,m(e[Yn])||(n=!e[Yn]),m(e[Zn])||(n=!e[Zn]),t[Xn]=n);var n,t,s=t,l=s.path||"/",f=s.domain,o=!1!==s[Xn],d={isEnabled:function(){var e=o&&ct(r),n=rt[T];return e&&n&&d!==n?it(n):e},setEnabled:function(e){o=!1!==e},set:function(e,n,t,o,r){var i,a,u,c=!1;return it(d)&&(i={},-1!=(u=(a=b(n||g)).indexOf(";"))&&(a=b(n.substring(0,u)),i=st(n.substring(1+u))),N(i,"domain",o||f,Ye,m),x(t)||(u=hn(),m(i[Hn])&&0<(n=He()+1e3*t)&&((o=new Date).setTime(n),N(i,Hn,lt(o,u?Jn:$n)||lt(o,u?Jn:$n)||g,Ye)),u||N(i,"max-age",g+t,null,m)),(n=gn())&&"https:"===n.protocol&&(N(i,"secure",null,null,m),(et=null===et?!(S(o=(dn()||{}).userAgent)&&(w(o,"CPU iPhone OS 12")||w(o,"iPad; CPU OS 12")||w(o,"Macintosh; Intel Mac OS X 10_14")&&w(o,"Version/")&&w(o,"Safari")||w(o,"Macintosh; Intel Mac OS X 10_14")&&function(e,n){var t=!1;if(!e||(t=e===n))return t;if(De)return e[be](n);var o=e,r=n,t=!1,e=o?o.length:0;if(e&&40<=e&&!(t=o===r)){for(var i=e-1,a=39;0<=a;a--){if(o[i]!=r[a])return;i--}t=!0}return t}(o,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||w(o,"Chrome/5")||w(o,"Chrome/6")||w(o,"UnrealEngine")&&!w(o,"Chrome")||w(o,"UCBrowser/12")||w(o,"UCBrowser/11"))):et)&&N(i,"SameSite","None",null,m)),N(i,"path",r||l,null,m),(s.setCookie||dt)(e,ft(a,i)),c=!0),c},get:function(e){var n=g;return it(d)?(s.getCookie||function(e){var n,t=g;return tt&&(n=tt[Gn]||g,nt!==n&&(ot=st(n),nt=n),t=b(ot[e]||g)),t})(e):n},del:function(e,n){return!!it(d)&&d.purge(e,n)},purge:function(e,n){var t,o=!1;return ct(r)&&((t={}).path=n||"/",t[Hn]="Thu, 01 Jan 1970 00:00:01 GMT",n=t,hn()||(n["max-age"]="0"),(s.delCookie||dt)(e,ft(g,n)),o=!0),o}};return d[T]=d}function ct(e){if(null===Qn){Qn=!1;try{Qn=(tt||{})[Gn]!==undefined}catch(n){_(e,2,68,"Cannot access document.cookie - "+Xe(n),{exception:k(n)})}}return Qn}function st(e){var t={};return e&&e.length&&We(b(e).split(";"),function(e){var n;(e=b(e||g))&&(-1==(n=e.indexOf("="))?t[e]=null:t[b(e.substring(0,n))]=b(e.substring(1+n)))}),t}function lt(e,n){return C(e[n])?e[n]():null}function ft(e,n){var t=e||g;return f(n,function(e,n){t+="; "+e+(x(n)?g:"="+n)}),t}function dt(e,n){tt&&(tt[Gn]=e+"="+n)}function gt(){var n=[];return{add:function(e){e&&n.push(e)},run:function(t,o){We(n,function(e){try{e(t,o)}catch(n){_(t.diagLog(),2,73,"Unexpected error calling unload handler - "+k(n))}}),n=[]}}}var P="getPlugin",ke=function no(){var i,r,l,f,d,a=this;function n(e){var n,e=e=void 0===e?null:e;return e||(n=r||Fn(null,{},a.core),e=l&&l[P]?n.createNew(null,l[P]):n.createNew(null,l)),e}function c(e,n,t){e&&N(e,"extensionConfig",[],null,x),!t&&n&&(t=n.getProcessTelContext().getNext());var o=l;l&&l[P]&&(o=l[P]()),a.core=n,r=Fn(t,e,n,o)}function g(){i=!1,a.core=null,l=r=null,d=[],f=gt()}g(),y(no,a,function(s){var e,n,t,o,r;s.initialize=function(e,n,t,o){c(e,n,o),i=!0},s.teardown=function(e,n){var t,o,r,i,a=s.core;if(a&&(!e||a===e.core()))return o=!1,r=e||function c(e,t,n){var o=t.config||{},r=Kn(e,o,t,n),i=r.ctx;return i.processNext=function(e){var n=r._next();return n&&n.unload(i,e),!n},i.createNew=function(e,n){return c((e=I(e=void 0===e?null:e)?zn(e,o,t,n):e)||i.getNext(),t,n)},i}(null,a,l&&l[P]?l[P]():l),i=n||{reason:0,isAsync:!1},s[Ie]&&!0===s[Ie](r,i,u)?t=!0:u(),t;function u(){o||(o=!0,f.run(r,n),We(d,function(e){e.rm()}),d=[],!0===t&&r.processNext(i),g())}},s.update=function(e,n){var t,o,r,i=s.core;if(i&&(!e||i===e.core()))return o=!1,r=e||function u(e,t,n){var o=t.config||{},r=Kn(e,o,t,n).ctx;return r.processNext=function(n){return r.iterate(function(e){C(e.update)&&e.update(r,n)})},r.createNew=function(e,n){return u((e=I(e=void 0===e?null:e)?zn(e,o,t,n):e)||r.getNext(),t,n)},r}(null,i,l&&l[P]?l[P]():l),s._doUpdate&&!0===s._doUpdate(r,n||{reason:0},a)?t=!0:a(),t;function a(){o||(o=!0,c(r.getCfg(),r.core(),r.getNext()))}},s._addHook=function(e){e&&(I(e)?d=d.concat(e):d.push(e))},t="_addUnloadCb",n=function(){return f},(e=s)&&n&&(e[t]=(r=o=null,C(t=n)?o=t:r=t,function(){var e=arguments;if(r=o?o():r)return r.add.apply(r,e)}))}),a.diagLog=function(e){return n(e).diagLog()},a[ye]=function(){return i},a.setInitialized=function(e){i=e},a.setNextPlugin=function(e){l=e},a.processNext=function(e,n){n?n.processNext(e):l&&C(l.processTelemetry)&&l.processTelemetry(e,null)},a._getTelCtx=n};function pt(e,n,t){var o,r,i=n.length,a=(e=e,(n=n)&&150<(n=b(n.toString())).length&&(r=n.substring(0,150),_(e,2,57,"name is too long.  It has been truncated to 150 characters.",{name:n},!0)),r||n);if(a.length!==i){for(var u=0,c=a;t[c]!==undefined;)u++,c=a.substring(0,147)+(o=void 0,(o="00"+u).substr(o.length-3));a=c}return a}function vt(e,n,t){var o;return void 0===t&&(t=1024),n&&(t=t||1024,(n=b(n)).toString().length>t&&(o=n.toString().substring(0,t),_(e,2,61,"string value is too long. It has been truncated to "+t+" characters.",{value:n},!0))),o||n}function ht(o,e){var r;return e&&(r={},f(e,function(e,n){if(Ke(n)&&pn())try{n=vn().stringify(n)}catch(t){_(o,2,49,"custom property is not valid",{exception:t},!0)}n=vt(o,n,8192),e=pt(o,e,r),r[e]=n}),e=r),e}function yt(e,n,t,o){var r;return n&&(n=b(n)).length>t&&(r=n.substring(0,t),_(e,2,o,"input is too long, it has been truncated to "+t+" characters.",{data:n},!0)),r||n}var mt=Ze({LocalStorage:0,SessionStorage:1}),xt=(Ze({AI:0,AI_AND_W3C:1,W3C:2}),undefined);function Ct(){return It()?wt(mt.LocalStorage):null}function wt(e){try{if(x(K()))return null;var n=(new Date).toString(),t=s(e===mt.LocalStorage?"localStorage":"sessionStorage"),o=(t.setItem(n,n),t.getItem(n)!==n);if(t.removeItem(n),!o)return t}catch(r){}return null}function It(e){return xt=e||xt===undefined?!!wt(mt.LocalStorage):xt}function St(e,n){var t=Ct();if(null!==t)try{return t.getItem(n)}catch(o){xt=!1,_(e,2,1,"Browser failed read of local storage. "+Xe(o),{exception:k(o)})}return null}function bt(e,n,t){var o=Ct();if(null!==o)try{o.setItem(n,t)}catch(r){xt=!1,_(e,2,3,"Browser failed write to local storage. "+Xe(r),{exception:k(r)})}}function Nt(e,n){var t=Ct();if(null!==t)try{t.removeItem(n)}catch(o){xt=!1,_(e,2,5,"Browser failed removal of local storage item. "+Xe(o),{exception:k(o)})}}_t.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",_t.dataType="PageviewData";var kt=_t;function _t(e,n,t,o,r,i,a){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var u,c,s,l=this;l.ver=2,l.id=a&&yt(e,a,128,69).toString(),l.url=yt(e,t,2048,66),l.name=vt(e,n)||"not_specified",isNaN(o)||(l.duration=(t=""+Math.floor((a=Math.round(a=isNaN(a=o)||a<0?0:a))/1e3)%60,n=1===(n=""+a%1e3).length?"00"+n:2===n.length?"0"+n:n,t=t.length<2?"0"+t:t,o=(o=""+Math.floor(a/6e4)%60).length<2?"0"+o:o,(0<(u=Math.floor(a/864e5))?u+".":"")+(u=(u=""+Math.floor(a/36e5)%24).length<2?"0"+u:u)+":"+o+":"+t+"."+n)),l.properties=ht(e,r),l.measurements=(c=e,(a=i)&&(s={},f(a,function(e,n){e=pt(c,e,s),s[e]=n}),a=s),a)}function l(e){var n="ai."+e+".";return function(e){return n+e}}var Tt,Pt,i=l("application"),r=l("device"),M=l("location"),n=l("operation"),Mt=l("session"),U=l("user"),D=l("cloud"),Ut=l("internal");function Dt(){return Tt.call(this)||this}Pt={applicationVersion:i("ver"),applicationBuild:i("build"),applicationTypeId:i("typeId"),applicationId:i("applicationId"),applicationLayer:i("layer"),deviceId:r("id"),deviceIp:r("ip"),deviceLanguage:r("language"),deviceLocale:r("locale"),deviceModel:r("model"),deviceFriendlyName:r("friendlyName"),deviceNetwork:r("network"),deviceNetworkName:r("networkName"),deviceOEMName:r("oemName"),deviceOS:r("os"),deviceOSVersion:r("osVersion"),deviceRoleInstance:r("roleInstance"),deviceRoleName:r("roleName"),deviceScreenResolution:r("screenResolution"),deviceType:r("type"),deviceMachineName:r("machineName"),deviceVMName:r("vmName"),deviceBrowser:r("browser"),deviceBrowserVersion:r("browserVersion"),locationIp:M("ip"),locationCountry:M("country"),locationProvince:M("province"),locationCity:M("city"),operationId:n("id"),operationName:n("name"),operationParentId:n("parentId"),operationRootId:n("rootId"),operationSyntheticSource:n("syntheticSource"),operationCorrelationVector:n("correlationVector"),sessionId:Mt("id"),sessionIsFirst:Mt("isFirst"),sessionIsNew:Mt("isNew"),userAccountAcquisitionDate:U("accountAcquisitionDate"),userAccountId:U("accountId"),userAgent:U("userAgent"),userId:U("id"),userStoreRegion:U("storeRegion"),userAuthUserId:U("authUserId"),userAnonymousUserAcquisitionDate:U("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:U("authUserAcquisitionDate"),cloudName:D("name"),cloudRole:D("role"),cloudRoleVer:D("roleVer"),cloudRoleInstance:D("roleInstance"),cloudEnvironment:D("environment"),cloudLocation:D("location"),cloudDeploymentUnit:D("deploymentUnit"),internalNodeName:Ut("nodeName"),internalSdkVersion:Ut("sdkVersion"),internalAgentVersion:Ut("agentVersion"),internalSnippet:Ut("snippet"),internalSdkSrc:Ut("sdkSrc")},W(Dt,Tt=function(){var t=this;f(Pt,function(e,n){t[e]=n})});var At="user",Lt="device",Ot="trace",Et="web",Vt="app",Rt="os",A=new Dt,jt=function(){},qt=(L.acquisitionSpan=864e5,L.renewalSpan=18e5,L.cookieUpdateInterval=6e4,L);function L(n,e){var l,f,d=In(e),g=at(e);y(L,this,function(u){C((n=n||{}).sessionExpirationMs)||(n.sessionExpirationMs=function(){return L.acquisitionSpan}),C(n.sessionRenewalMs)||(n.sessionRenewalMs=function(){return L.renewalSpan}),u.config=n;var e=u.config.sessionCookiePostfix&&u.config.sessionCookiePostfix()?u.config.sessionCookiePostfix():u.config.namePrefix&&u.config.namePrefix()?u.config.namePrefix():"";function c(e,n){var t=!1,o=", session will be reset",r=n.split("|");if(2<=r.length)try{var i=+r[1]||0,a=+r[2]||0;isNaN(i)||i<=0?_(d,2,27,"AI session acquisition date is 0"+o):isNaN(a)||a<=0?_(d,2,27,"AI session renewal date is 0"+o):r[0]&&(e.id=r[0],e.acquisitionDate=i,e.renewalDate=a,t=!0)}catch(u){_(d,1,9,"Error parsing ai_session value ["+(n||"")+"]"+o+" - "+Xe(u),{exception:k(u)})}return t}function s(e,n){var t=e.acquisitionDate,o=(e.renewalDate=n,u.config),r=o.sessionRenewalMs(),i=t+o.sessionExpirationMs()-n,e=[e.id,t,n],t=i<r?i/1e3:r/1e3,i=o.cookieDomain?o.cookieDomain():null;g.set(l(),e.join("|"),0<o.sessionExpirationMs()?t:null,i),f=n}l=function(){return"ai_session"+e},u.automaticSession=new jt,u.update=function(){var e,n,t,o=He(),r=!1,i=u.automaticSession,a=(i.id||(n=i,t=!1,(a=g.get(l()))&&C(a.split)?t=c(n,a):(a=St(d,l()))&&(t=c(n,a)),r=!(t||n.id)),u.config.sessionExpirationMs());!r&&0<a&&(t=u.config.sessionRenewalMs(),n=o-i.acquisitionDate,e=o-i.renewalDate,r=(r=(r=n<0||e<0)||a<n)||t<e),r?(a=o,t=((n=u.config||{}).getNewId?n.getNewId():null)||Dn,u.automaticSession.id=t(n.idLength?n.idLength():22),u.automaticSession.acquisitionDate=a,s(u.automaticSession,a),It()||_(d,2,0,"Browser does not support local storage. Session durations will be inaccurate.")):(!f||L.cookieUpdateInterval<o-f)&&s(i,o)},u.backup=function(){var e=u.automaticSession,n=e.id,t=e.acquisitionDate,e=e.renewalDate;bt(d,l(),[n,t,e].join("|"))}})}var Bt=function(){},Kt=function(){this.id="browser",this.deviceClass="Browser"},Ft=function(e){this.sdkVersion=(e.sdkExtension&&e.sdkExtension()?e.sdkExtension()+"_":"")+"javascript:2.8.3"};function zt(e){return"string"==typeof e&&e&&!e.match(/,|;|=| |\|/)}O.cookieSeparator="|",O.userCookieName="ai_user",O.authUserCookieName="ai_authUser";var Wt=O;function O(a,e){this.isNewUser=!1,this.isUserCookieSet=!1;var u,c=In(e),s=at(e);y(O,this,function(o){o.config=a;var e=o.config.userCookiePostfix&&o.config.userCookiePostfix()?o.config.userCookiePostfix():"",n=(u=function(){return O.userCookieName+e},s.get(u()));function t(){var e=a||{};return((e.getNewId?e.getNewId():null)||Dn)(e.idLength?a.idLength():22)}function r(e){var n=function(e){if(e){if(Ae)return e[Se]();var n;return e&&e.getUTCFullYear?(n=function(e){e=""+e;return 1===e.length?"0"+e:e},e.getUTCFullYear()+"-"+n(1+e.getUTCMonth())+"-"+n(e.getUTCDate())+"T"+n(e.getUTCHours())+":"+n(e.getUTCMinutes())+":"+n(e.getUTCSeconds())+"."+(e.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"):void 0}}(new Date);return o.accountAcquisitionDate=n,o.isNewUser=!0,[e,n]}function i(e){o.isUserCookieSet=s.set(u(),e,31536e3)}n&&(o.isNewUser=!1,0<(n=n.split(O.cookieSeparator)).length&&(o.id=n[0],o.isUserCookieSet=!!o.id)),o.id||(o.id=t(),i(r(o.id).join(O.cookieSeparator)),n=a.namePrefix&&a.namePrefix()?a.namePrefix()+"ai_session":"ai_session",Nt(c,n)),o.accountId=a.accountId?a.accountId():undefined;var n=s.get(O.authUserCookieName);n&&((n=(n=decodeURI(n)).split(O.cookieSeparator))[0]&&(o.authenticatedId=n[0]),1<n.length&&n[1]&&(o.accountId=n[1])),o.setAuthenticatedUserContext=function(e,n,t){void 0===t&&(t=!1),!zt(e)||n&&!zt(n)?_(c,2,60,"Setting auth user context failed. User auth/account id should be of type string, and not contain commas, semi-colons, equal signs, spaces, or vertical-bars.",!0):(o.authenticatedId=e,e=o.authenticatedId,n&&(o.accountId=n,e=[o.authenticatedId,o.accountId].join(O.cookieSeparator)),t&&s.set(O.authUserCookieName,encodeURI(e)))},o.clearAuthenticatedUserContext=function(){o.authenticatedId=null,o.accountId=null,s.del(O.authUserCookieName)},o.update=function(e){o.id===e&&o.isUserCookieSet||i(r(e||t()).join(O.cookieSeparator))}})}var Jt=function(){},$t=function(e,n,t,o){var r=this,e=(r.traceID=e||function(){for(var e,n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],t=g,o=0;o<4;o++)t+=n[15&(e=Un())]+n[e>>4&15]+n[e>>8&15]+n[e>>12&15]+n[e>>16&15]+n[e>>20&15]+n[e>>24&15]+n[e>>28&15];var r=n[8+(3&Un())|0];return t.substr(0,8)+t.substr(9,4)+"4"+t.substr(13,3)+r+t.substr(16,3)+t.substr(19,12)}(),r.parentID=n,r.name=t,gn());!t&&e&&e.pathname&&(r.name=e.pathname),r.name=vt(o,r.name)},Gt="ext",Ht="tags";function Xt(e,n){e&&e[n]&&0===function(e){var n=typeof e;if(n===E||n===a&&null!==e||F("objKeys called on non-object"),!Je&&Me)return Me(e);var t,o=[];for(t in e)e&&q.call(e,t)&&o.push(t);if(Je)for(var r=$e.length,i=0;i<r;i++)e&&q.call(e,$e[i])&&o.push($e[i]);return o}(e[n]).length&&delete e[n]}var Yt,Zt=function to(e,n){var o=this,t=e.logger;this.appId=function(){return null},this.getSessionId=function(){return null},y(to,this,function(r){r.application=new Bt,r.internal=new Ft(n),fn()&&(r.sessionManager=new qt(n,e),r.device=new Kt,r.location=new Jt,r.user=new Wt(n,e),r.telemetryTrace=new $t(undefined,undefined,undefined,t),r.session=new jt),r.getSessionId=function(){var e=r.session;return e&&S(e.id)?e.id:(e=(r.sessionManager||{}).automaticSession)&&S(e.id)?e.id:null},r.applySessionContext=function(e,n){N(d(e.ext,Vt),"sesId",r.getSessionId(),S)},r.applyOperatingSystemContxt=function(e,n){N(e.ext,Rt,r.os)},r.applyApplicationContext=function(e,n){var t=r.application;t&&(N(e=d(e,Ht),A.applicationVersion,t.ver,S),N(e,A.applicationBuild,t.build,S))},r.applyDeviceContext=function(e,n){var t=r.device;t&&(N(e=d(d(e,Gt),Lt),"localId",t.id,S),N(e,"ip",t.ip,S),N(e,"model",t.model,S),N(e,"deviceClass",t.deviceClass,S))},r.applyInternalContext=function(e,n){var t,o=r.internal;o&&(N(t=d(e,Ht),A.internalAgentVersion,o.agentVersion,S),N(t,A.internalSdkVersion,o.sdkVersion,S),e.baseType!==Cn.dataType&&e.baseType!==kt.dataType||(N(t,A.internalSnippet,o.snippetVer,S),N(t,A.internalSdkSrc,o.sdkSrc,S)))},r.applyLocationContext=function(e,n){var t=o.location;t&&N(d(e,Ht,[]),A.locationIp,t.ip,S)},r.applyOperationContext=function(e,n){var t=r.telemetryTrace;t&&(N(e=d(d(e,Gt),Ot,{traceID:undefined,parentID:undefined}),"traceID",t.traceID,S),N(e,"name",t.name,S),N(e,"parentID",t.parentID,S))},r.applyWebContext=function(e,n){var t=o.web;t&&N(d(e,Gt),Et,t)},r.applyUserContext=function(e,n){var t=r.user;t&&(N(d(e,Ht,[]),A.userAccountId,t.accountId,S),N(e=d(d(e,Gt),At),"id",t.id,S),N(e,"authId",t.authenticatedId,S))},r.cleanUp=function(e,n){e=e.ext;e&&(Xt(e,Lt),Xt(e,At),Xt(e,Et),Xt(e,Rt),Xt(e,Vt),Xt(e,Ot))}})},i=(W(Qt,Yt=ke),Qt.getDefaultConfig=function(){return{instrumentationKey:function(){return undefined},accountId:function(){return null},sessionRenewalMs:function(){return 18e5},samplingPercentage:function(){return 100},sessionExpirationMs:function(){return 864e5},cookieDomain:function(){return null},sdkExtension:function(){return null},isBrowserLinkTrackingEnabled:function(){return!1},appId:function(){return null},getSessionId:function(){return null},namePrefix:function(){return undefined},sessionCookiePostfix:function(){return undefined},userCookiePostfix:function(){return undefined},idLength:function(){return 22},getNewId:function(){return null}}},Qt);function Qt(){var s,l,e=Yt.call(this)||this;return e.priority=110,e.identifier="AppInsightsPropertiesPlugin",y(Qt,e,function(u,c){u.initialize=function(e,n,t,o){c.initialize(e,n,t,o);var r,i=u._getTelCtx(),a=u.identifier,e=Qt.getDefaultConfig();l=l||{},f(e,function(e,n){l[e]=function(){return i.getConfig(a,e,n())}}),u.context=new Zt(n,l),r=null,We(t,function(e){if("AppInsightsChannelPlugin"===e.identifier)return r=e,-1}),s=r,u.context.appId=function(){return s?s._appId:null},u._extConfig=l},u.processTelemetry=function(e,n){var t,o,r,i;x(e)||(n=u._getTelCtx(n),e.name===kt.envelopeType&&n.diagLog().resetInternalMessageCount(),(o=u.context||{}).session&&"string"!=typeof u.context.session.id&&o.sessionManager&&o.sessionManager.update(),(t=o.user)&&!t.isUserCookieSet&&t.update(o.user.id),o=n,d(i=e,"tags",[]),d(i,"ext",{}),(r=u.context).applySessionContext(i,o),r.applyApplicationContext(i,o),r.applyDeviceContext(i,o),r.applyOperationContext(i,o),r.applyUserContext(i,o),r.applyOperatingSystemContxt(i,o),r.applyWebContext(i,o),r.applyLocationContext(i,o),r.applyInternalContext(i,o),r.cleanUp(i,o),t&&t.isNewUser&&(t.isNewUser=!1,i=new Cn(72,(dn()||{}).userAgent||""),(n.diagLog()||new Sn).logInternalMessage(1,i)),u.processNext(e,n))}}),e}e.PropertiesPlugin=i,e.Session=jt,e.SessionManager=qt,e.TelemetryContext=Zt,e.TelemetryTrace=$t;r=e,M="__esModule",n={value:!0},Mt=Object.defineProperty;if(Mt)try{return void Mt(r,M,n)}catch(oo){}typeof n.value!==undefined&&(r[M]=n.value)};"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(((e="undefined"!=typeof globalThis?globalThis:e||self).Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{}));
//# sourceMappingURL=applicationinsights-properties-js.min.js.map
