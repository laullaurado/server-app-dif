{"filter":false,"title":"app.js","tooltip":"/app.js","undoManager":{"mark":100,"position":100,"stack":[[{"start":{"row":870,"column":3},"end":{"row":870,"column":44},"action":"remove","lines":[" console.log(\"idusuario \" + idasistencia)"],"id":1213},{"start":{"row":870,"column":2},"end":{"row":870,"column":3},"action":"remove","lines":[" "]},{"start":{"row":870,"column":0},"end":{"row":870,"column":2},"action":"remove","lines":["  "]},{"start":{"row":869,"column":42},"end":{"row":870,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":861,"column":0},"end":{"row":861,"column":24},"action":"remove","lines":["    console.log(\"ADIOS\")"],"id":1214},{"start":{"row":860,"column":7},"end":{"row":861,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":863,"column":2},"end":{"row":863,"column":4},"action":"remove","lines":["  "],"id":1215},{"start":{"row":863,"column":0},"end":{"row":863,"column":2},"action":"remove","lines":["  "]},{"start":{"row":862,"column":31},"end":{"row":863,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":868,"column":4},"end":{"row":868,"column":6},"action":"remove","lines":["  "],"id":1216},{"start":{"row":868,"column":2},"end":{"row":868,"column":4},"action":"remove","lines":["  "]},{"start":{"row":868,"column":0},"end":{"row":868,"column":2},"action":"remove","lines":["  "]},{"start":{"row":867,"column":42},"end":{"row":868,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":866,"column":6},"end":{"row":866,"column":7},"action":"remove","lines":[" "],"id":1217},{"start":{"row":866,"column":4},"end":{"row":866,"column":6},"action":"remove","lines":["  "]},{"start":{"row":866,"column":2},"end":{"row":866,"column":4},"action":"remove","lines":["  "]},{"start":{"row":866,"column":0},"end":{"row":866,"column":2},"action":"remove","lines":["  "]},{"start":{"row":865,"column":4},"end":{"row":866,"column":0},"action":"remove","lines":["",""]},{"start":{"row":865,"column":2},"end":{"row":865,"column":4},"action":"remove","lines":["  "]}],[{"start":{"row":865,"column":0},"end":{"row":865,"column":2},"action":"remove","lines":["  "],"id":1218},{"start":{"row":864,"column":21},"end":{"row":865,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":867,"column":15},"end":{"row":868,"column":0},"action":"insert","lines":["",""],"id":1219},{"start":{"row":868,"column":0},"end":{"row":868,"column":4},"action":"insert","lines":["    "]},{"start":{"row":868,"column":4},"end":{"row":869,"column":0},"action":"insert","lines":["",""]},{"start":{"row":869,"column":0},"end":{"row":869,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":850,"column":4},"end":{"row":850,"column":5},"action":"insert","lines":["c"],"id":1220},{"start":{"row":850,"column":5},"end":{"row":850,"column":6},"action":"insert","lines":["o"]},{"start":{"row":850,"column":6},"end":{"row":850,"column":7},"action":"insert","lines":["n"]},{"start":{"row":850,"column":7},"end":{"row":850,"column":8},"action":"insert","lines":["s"]},{"start":{"row":850,"column":8},"end":{"row":850,"column":9},"action":"insert","lines":["o"]}],[{"start":{"row":850,"column":4},"end":{"row":850,"column":9},"action":"remove","lines":["conso"],"id":1221},{"start":{"row":850,"column":4},"end":{"row":850,"column":11},"action":"insert","lines":["console"]}],[{"start":{"row":850,"column":11},"end":{"row":850,"column":12},"action":"insert","lines":["."],"id":1222},{"start":{"row":850,"column":12},"end":{"row":850,"column":13},"action":"insert","lines":["l"]},{"start":{"row":850,"column":13},"end":{"row":850,"column":14},"action":"insert","lines":["o"]}],[{"start":{"row":850,"column":12},"end":{"row":850,"column":14},"action":"remove","lines":["lo"],"id":1223},{"start":{"row":850,"column":12},"end":{"row":850,"column":17},"action":"insert","lines":["log()"]}],[{"start":{"row":850,"column":16},"end":{"row":850,"column":18},"action":"insert","lines":["\"\""],"id":1224}],[{"start":{"row":850,"column":17},"end":{"row":850,"column":18},"action":"insert","lines":["A"],"id":1225},{"start":{"row":850,"column":18},"end":{"row":850,"column":19},"action":"insert","lines":["S"]},{"start":{"row":850,"column":19},"end":{"row":850,"column":20},"action":"insert","lines":["I"]},{"start":{"row":850,"column":20},"end":{"row":850,"column":21},"action":"insert","lines":["T"]},{"start":{"row":850,"column":21},"end":{"row":850,"column":22},"action":"insert","lines":["E"]},{"start":{"row":850,"column":22},"end":{"row":850,"column":23},"action":"insert","lines":["N"]},{"start":{"row":850,"column":23},"end":{"row":850,"column":24},"action":"insert","lines":["C"]},{"start":{"row":850,"column":24},"end":{"row":850,"column":25},"action":"insert","lines":["I"]},{"start":{"row":850,"column":25},"end":{"row":850,"column":26},"action":"insert","lines":["A"]}],[{"start":{"row":850,"column":26},"end":{"row":850,"column":27},"action":"insert","lines":[" "],"id":1226},{"start":{"row":850,"column":27},"end":{"row":850,"column":28},"action":"insert","lines":["R"]},{"start":{"row":850,"column":28},"end":{"row":850,"column":29},"action":"insert","lines":["E"]},{"start":{"row":850,"column":29},"end":{"row":850,"column":30},"action":"insert","lines":["I"]}],[{"start":{"row":850,"column":29},"end":{"row":850,"column":30},"action":"remove","lines":["I"],"id":1227}],[{"start":{"row":850,"column":29},"end":{"row":850,"column":30},"action":"insert","lines":["G"],"id":1228},{"start":{"row":850,"column":30},"end":{"row":850,"column":31},"action":"insert","lines":["I"]},{"start":{"row":850,"column":31},"end":{"row":850,"column":32},"action":"insert","lines":["S"]},{"start":{"row":850,"column":32},"end":{"row":850,"column":33},"action":"insert","lines":["T"]},{"start":{"row":850,"column":33},"end":{"row":850,"column":34},"action":"insert","lines":["A"]}],[{"start":{"row":850,"column":33},"end":{"row":850,"column":34},"action":"remove","lines":["A"],"id":1229}],[{"start":{"row":850,"column":33},"end":{"row":850,"column":34},"action":"insert","lines":["R"],"id":1230},{"start":{"row":850,"column":34},"end":{"row":850,"column":35},"action":"insert","lines":["A"]},{"start":{"row":850,"column":35},"end":{"row":850,"column":36},"action":"insert","lines":["D"]},{"start":{"row":850,"column":36},"end":{"row":850,"column":37},"action":"insert","lines":["A"]}],[{"start":{"row":850,"column":17},"end":{"row":850,"column":26},"action":"remove","lines":["ASITENCIA"],"id":1231},{"start":{"row":850,"column":17},"end":{"row":850,"column":18},"action":"insert","lines":["B"]}],[{"start":{"row":850,"column":17},"end":{"row":850,"column":18},"action":"remove","lines":["B"],"id":1232}],[{"start":{"row":850,"column":17},"end":{"row":850,"column":18},"action":"insert","lines":["V"],"id":1233},{"start":{"row":850,"column":18},"end":{"row":850,"column":19},"action":"insert","lines":["O"]},{"start":{"row":850,"column":19},"end":{"row":850,"column":20},"action":"insert","lines":["L"]},{"start":{"row":850,"column":20},"end":{"row":850,"column":21},"action":"insert","lines":["U"]},{"start":{"row":850,"column":21},"end":{"row":850,"column":22},"action":"insert","lines":["N"]},{"start":{"row":850,"column":22},"end":{"row":850,"column":23},"action":"insert","lines":["T"]},{"start":{"row":850,"column":23},"end":{"row":850,"column":24},"action":"insert","lines":["A"]},{"start":{"row":850,"column":24},"end":{"row":850,"column":25},"action":"insert","lines":["R"]},{"start":{"row":850,"column":25},"end":{"row":850,"column":26},"action":"insert","lines":["I"]},{"start":{"row":850,"column":26},"end":{"row":850,"column":27},"action":"insert","lines":["O"]}],[{"start":{"row":850,"column":37},"end":{"row":850,"column":38},"action":"remove","lines":["A"],"id":1234}],[{"start":{"row":850,"column":37},"end":{"row":850,"column":38},"action":"insert","lines":["O"],"id":1235}],[{"start":{"row":863,"column":100},"end":{"row":863,"column":101},"action":"insert","lines":["$"],"id":1236}],[{"start":{"row":863,"column":116},"end":{"row":863,"column":117},"action":"remove","lines":["'"],"id":1237},{"start":{"row":863,"column":115},"end":{"row":863,"column":116},"action":"remove","lines":["7"]},{"start":{"row":863,"column":114},"end":{"row":863,"column":115},"action":"remove","lines":["6"]},{"start":{"row":863,"column":113},"end":{"row":863,"column":114},"action":"remove","lines":["5"]},{"start":{"row":863,"column":112},"end":{"row":863,"column":113},"action":"remove","lines":["4"]},{"start":{"row":863,"column":111},"end":{"row":863,"column":112},"action":"remove","lines":["3"]},{"start":{"row":863,"column":110},"end":{"row":863,"column":111},"action":"remove","lines":["2"]},{"start":{"row":863,"column":109},"end":{"row":863,"column":110},"action":"remove","lines":["1"]},{"start":{"row":863,"column":108},"end":{"row":863,"column":109},"action":"remove","lines":["A"]},{"start":{"row":863,"column":107},"end":{"row":863,"column":108},"action":"remove","lines":["L"]},{"start":{"row":863,"column":106},"end":{"row":863,"column":107},"action":"remove","lines":["O"]},{"start":{"row":863,"column":105},"end":{"row":863,"column":106},"action":"remove","lines":["H"]},{"start":{"row":863,"column":104},"end":{"row":863,"column":105},"action":"remove","lines":["'"]}],[{"start":{"row":863,"column":104},"end":{"row":863,"column":105},"action":"insert","lines":["$"],"id":1238},{"start":{"row":863,"column":105},"end":{"row":863,"column":106},"action":"insert","lines":["2"]}],[{"start":{"row":865,"column":42},"end":{"row":866,"column":0},"action":"insert","lines":["",""],"id":1239},{"start":{"row":866,"column":0},"end":{"row":866,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":870,"column":2},"end":{"row":870,"column":4},"action":"remove","lines":["  "],"id":1240},{"start":{"row":870,"column":0},"end":{"row":870,"column":2},"action":"remove","lines":["  "]},{"start":{"row":869,"column":4},"end":{"row":870,"column":0},"action":"remove","lines":["",""]},{"start":{"row":869,"column":2},"end":{"row":869,"column":4},"action":"remove","lines":["  "]},{"start":{"row":869,"column":0},"end":{"row":869,"column":2},"action":"remove","lines":["  "]},{"start":{"row":868,"column":15},"end":{"row":869,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":866,"column":2},"end":{"row":866,"column":4},"action":"remove","lines":["  "],"id":1241},{"start":{"row":866,"column":0},"end":{"row":866,"column":2},"action":"remove","lines":["  "]},{"start":{"row":865,"column":42},"end":{"row":866,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":681,"column":38},"end":{"row":681,"column":163},"action":"remove","lines":["SELECT DISTINCT nombre FROM asistencia, voluntario WHERE asistencia.voluntario = voluntario.curp and asistencia.comedor = $1;"],"id":1242},{"start":{"row":681,"column":38},"end":{"row":681,"column":242},"action":"insert","lines":["SELECT DISTINCT nombre FROM asistencia, voluntario WHERE asistencia.voluntario = voluntario.curp and asistencia.comedor = 1 and DATE(asistencia.fechahora) = DATE(NOW() AT TIME ZONE 'America/Mexico_City');"]}],[{"start":{"row":681,"column":160},"end":{"row":681,"column":161},"action":"insert","lines":["$"],"id":1243}],[{"start":{"row":23,"column":67},"end":{"row":24,"column":0},"action":"insert","lines":["",""],"id":1244},{"start":{"row":24,"column":0},"end":{"row":25,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":25,"column":0},"end":{"row":27,"column":57},"action":"insert","lines":["const certificate = fs.readFileSync('/etc/letsencrypt/live/NOMBRE-DEL-DOMINIO/fullchain.pem', 'utf8')","const privateKey = fs.readFileSync('/etc/letsencrypt/live/NOMBRE-DEL-DOMINIO/privkey.pem', 'utf8')","const credentials = { key: privateKey, cert: certificate}"],"id":1245}],[{"start":{"row":21,"column":18},"end":{"row":22,"column":0},"action":"insert","lines":["",""],"id":1246},{"start":{"row":22,"column":0},"end":{"row":22,"column":1},"action":"insert","lines":["c"]}],[{"start":{"row":22,"column":0},"end":{"row":22,"column":1},"action":"remove","lines":["c"],"id":1247},{"start":{"row":21,"column":18},"end":{"row":22,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":22,"column":31},"end":{"row":23,"column":0},"action":"insert","lines":["",""],"id":1248},{"start":{"row":23,"column":0},"end":{"row":23,"column":1},"action":"insert","lines":["c"]},{"start":{"row":23,"column":1},"end":{"row":23,"column":2},"action":"insert","lines":["o"]},{"start":{"row":23,"column":2},"end":{"row":23,"column":3},"action":"insert","lines":["n"]},{"start":{"row":23,"column":3},"end":{"row":23,"column":4},"action":"insert","lines":["s"]},{"start":{"row":23,"column":4},"end":{"row":23,"column":5},"action":"insert","lines":["t"]}],[{"start":{"row":23,"column":5},"end":{"row":23,"column":6},"action":"insert","lines":[" "],"id":1249},{"start":{"row":23,"column":6},"end":{"row":23,"column":7},"action":"insert","lines":["D"]},{"start":{"row":23,"column":7},"end":{"row":23,"column":8},"action":"insert","lines":["O"]},{"start":{"row":23,"column":8},"end":{"row":23,"column":9},"action":"insert","lines":["M"]},{"start":{"row":23,"column":9},"end":{"row":23,"column":10},"action":"insert","lines":["A"]},{"start":{"row":23,"column":10},"end":{"row":23,"column":11},"action":"insert","lines":["I"]},{"start":{"row":23,"column":11},"end":{"row":23,"column":12},"action":"insert","lines":["N"]}],[{"start":{"row":23,"column":12},"end":{"row":23,"column":13},"action":"insert","lines":[" "],"id":1250},{"start":{"row":23,"column":13},"end":{"row":23,"column":14},"action":"insert","lines":["="]}],[{"start":{"row":23,"column":14},"end":{"row":23,"column":15},"action":"insert","lines":[" "],"id":1251}],[{"start":{"row":23,"column":15},"end":{"row":23,"column":17},"action":"insert","lines":["''"],"id":1252}],[{"start":{"row":23,"column":16},"end":{"row":23,"column":38},"action":"insert","lines":["ccdifatizapan.ddns.net"],"id":1253}],[{"start":{"row":23,"column":39},"end":{"row":23,"column":40},"action":"insert","lines":[";"],"id":1254}],[{"start":{"row":30,"column":22},"end":{"row":31,"column":0},"action":"insert","lines":["",""],"id":1255}],[{"start":{"row":31,"column":0},"end":{"row":31,"column":56},"action":"insert","lines":["const httpsServer = https.createServer(credentials, app)"],"id":1256}],[{"start":{"row":527,"column":0},"end":{"row":527,"column":2},"action":"insert","lines":["  "],"id":1257}],[{"start":{"row":527,"column":2},"end":{"row":528,"column":0},"action":"insert","lines":["",""],"id":1258},{"start":{"row":528,"column":0},"end":{"row":528,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":527,"column":2},"end":{"row":528,"column":0},"action":"insert","lines":["",""],"id":1259},{"start":{"row":528,"column":0},"end":{"row":528,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":528,"column":0},"end":{"row":528,"column":2},"action":"remove","lines":["  "],"id":1260},{"start":{"row":527,"column":2},"end":{"row":528,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":527,"column":2},"end":{"row":529,"column":37},"action":"insert","lines":["httpsServer.listen(port, () => console.log(","  `Express started on https://${domain}:${port}`","  + '\\nPress Ctrl-C to terminate.'));"],"id":1261}],[{"start":{"row":527,"column":21},"end":{"row":527,"column":25},"action":"remove","lines":["port"],"id":1262},{"start":{"row":527,"column":21},"end":{"row":527,"column":22},"action":"insert","lines":["P"]},{"start":{"row":527,"column":22},"end":{"row":527,"column":23},"action":"insert","lines":["O"]},{"start":{"row":527,"column":23},"end":{"row":527,"column":24},"action":"insert","lines":["R"]},{"start":{"row":527,"column":24},"end":{"row":527,"column":25},"action":"insert","lines":["T"]}],[{"start":{"row":527,"column":33},"end":{"row":529,"column":37},"action":"remove","lines":["console.log(","  `Express started on https://${domain}:${port}`","  + '\\nPress Ctrl-C to terminate.'));"],"id":1263}],[{"start":{"row":527,"column":33},"end":{"row":529,"column":5},"action":"insert","lines":["{","    console.log(`AdminJS started on http://${IPADDR}:${PORT}${admin.options.rootPath}`);","  });"],"id":1264}],[{"start":{"row":531,"column":2},"end":{"row":531,"column":5},"action":"insert","lines":["// "],"id":1265},{"start":{"row":532,"column":2},"end":{"row":532,"column":5},"action":"insert","lines":["// "]},{"start":{"row":533,"column":2},"end":{"row":533,"column":5},"action":"insert","lines":["// "]}],[{"start":{"row":528,"column":45},"end":{"row":528,"column":51},"action":"remove","lines":["IPADDR"],"id":1266},{"start":{"row":528,"column":45},"end":{"row":528,"column":46},"action":"insert","lines":["D"]},{"start":{"row":528,"column":46},"end":{"row":528,"column":47},"action":"insert","lines":["O"]},{"start":{"row":528,"column":47},"end":{"row":528,"column":48},"action":"insert","lines":["M"]},{"start":{"row":528,"column":48},"end":{"row":528,"column":49},"action":"insert","lines":["A"]},{"start":{"row":528,"column":49},"end":{"row":528,"column":50},"action":"insert","lines":["I"]},{"start":{"row":528,"column":50},"end":{"row":528,"column":51},"action":"insert","lines":["N"]}],[{"start":{"row":26,"column":59},"end":{"row":26,"column":77},"action":"remove","lines":["NOMBRE-DEL-DOMINIO"],"id":1267},{"start":{"row":26,"column":59},"end":{"row":26,"column":81},"action":"insert","lines":["ccdifatizapan.ddns.net"]}],[{"start":{"row":27,"column":58},"end":{"row":27,"column":76},"action":"remove","lines":["NOMBRE-DEL-DOMINIO"],"id":1268},{"start":{"row":27,"column":58},"end":{"row":27,"column":80},"action":"insert","lines":["ccdifatizapan.ddns.net"]}],[{"start":{"row":528,"column":40},"end":{"row":528,"column":41},"action":"insert","lines":["s"],"id":1269}],[{"start":{"row":26,"column":59},"end":{"row":26,"column":60},"action":"insert","lines":["$"],"id":1270},{"start":{"row":26,"column":60},"end":{"row":26,"column":61},"action":"insert","lines":["{"]},{"start":{"row":26,"column":61},"end":{"row":26,"column":62},"action":"insert","lines":["D"]},{"start":{"row":26,"column":62},"end":{"row":26,"column":63},"action":"insert","lines":["O"]}],[{"start":{"row":26,"column":63},"end":{"row":26,"column":64},"action":"insert","lines":["M"],"id":1271},{"start":{"row":26,"column":64},"end":{"row":26,"column":65},"action":"insert","lines":["A"]},{"start":{"row":26,"column":65},"end":{"row":26,"column":66},"action":"insert","lines":["I"]},{"start":{"row":26,"column":66},"end":{"row":26,"column":67},"action":"insert","lines":["N"]},{"start":{"row":26,"column":67},"end":{"row":26,"column":68},"action":"insert","lines":["}"]}],[{"start":{"row":26,"column":67},"end":{"row":26,"column":68},"action":"remove","lines":["}"],"id":1272},{"start":{"row":26,"column":66},"end":{"row":26,"column":67},"action":"remove","lines":["N"]},{"start":{"row":26,"column":65},"end":{"row":26,"column":66},"action":"remove","lines":["I"]},{"start":{"row":26,"column":64},"end":{"row":26,"column":65},"action":"remove","lines":["A"]},{"start":{"row":26,"column":63},"end":{"row":26,"column":64},"action":"remove","lines":["M"]},{"start":{"row":26,"column":62},"end":{"row":26,"column":63},"action":"remove","lines":["O"]},{"start":{"row":26,"column":61},"end":{"row":26,"column":62},"action":"remove","lines":["D"]},{"start":{"row":26,"column":60},"end":{"row":26,"column":61},"action":"remove","lines":["{"]},{"start":{"row":26,"column":59},"end":{"row":26,"column":60},"action":"remove","lines":["$"]}],[{"start":{"row":26,"column":36},"end":{"row":26,"column":37},"action":"remove","lines":["'"],"id":1273}],[{"start":{"row":26,"column":36},"end":{"row":26,"column":37},"action":"insert","lines":["`"],"id":1274}],[{"start":{"row":26,"column":103},"end":{"row":26,"column":104},"action":"remove","lines":["'"],"id":1275}],[{"start":{"row":26,"column":103},"end":{"row":26,"column":104},"action":"insert","lines":["`"],"id":1276}],[{"start":{"row":26,"column":59},"end":{"row":26,"column":60},"action":"insert","lines":["$"],"id":1277}],[{"start":{"row":26,"column":60},"end":{"row":26,"column":61},"action":"insert","lines":["{"],"id":1278},{"start":{"row":26,"column":61},"end":{"row":26,"column":62},"action":"insert","lines":["D"]},{"start":{"row":26,"column":62},"end":{"row":26,"column":63},"action":"insert","lines":["O"]},{"start":{"row":26,"column":63},"end":{"row":26,"column":64},"action":"insert","lines":["M"]},{"start":{"row":26,"column":64},"end":{"row":26,"column":65},"action":"insert","lines":["A"]},{"start":{"row":26,"column":65},"end":{"row":26,"column":66},"action":"insert","lines":["I"]},{"start":{"row":26,"column":66},"end":{"row":26,"column":67},"action":"insert","lines":["N"]},{"start":{"row":26,"column":67},"end":{"row":26,"column":68},"action":"insert","lines":["}"]}],[{"start":{"row":26,"column":68},"end":{"row":26,"column":69},"action":"remove","lines":["c"],"id":1279},{"start":{"row":26,"column":68},"end":{"row":26,"column":69},"action":"remove","lines":["c"]},{"start":{"row":26,"column":68},"end":{"row":26,"column":69},"action":"remove","lines":["d"]},{"start":{"row":26,"column":68},"end":{"row":26,"column":69},"action":"remove","lines":["i"]},{"start":{"row":26,"column":68},"end":{"row":26,"column":69},"action":"remove","lines":["f"]},{"start":{"row":26,"column":68},"end":{"row":26,"column":69},"action":"remove","lines":["a"]},{"start":{"row":26,"column":68},"end":{"row":26,"column":69},"action":"remove","lines":["t"]},{"start":{"row":26,"column":68},"end":{"row":26,"column":69},"action":"remove","lines":["i"]},{"start":{"row":26,"column":68},"end":{"row":26,"column":69},"action":"remove","lines":["z"]},{"start":{"row":26,"column":68},"end":{"row":26,"column":69},"action":"remove","lines":["a"]},{"start":{"row":26,"column":68},"end":{"row":26,"column":69},"action":"remove","lines":["p"]},{"start":{"row":26,"column":68},"end":{"row":26,"column":69},"action":"remove","lines":["a"]},{"start":{"row":26,"column":68},"end":{"row":26,"column":69},"action":"remove","lines":["n"]},{"start":{"row":26,"column":68},"end":{"row":26,"column":69},"action":"remove","lines":["."]},{"start":{"row":26,"column":68},"end":{"row":26,"column":69},"action":"remove","lines":["d"]},{"start":{"row":26,"column":68},"end":{"row":26,"column":69},"action":"remove","lines":["d"]},{"start":{"row":26,"column":68},"end":{"row":26,"column":69},"action":"remove","lines":["n"]},{"start":{"row":26,"column":68},"end":{"row":26,"column":69},"action":"remove","lines":["s"]},{"start":{"row":26,"column":68},"end":{"row":26,"column":69},"action":"remove","lines":["."]},{"start":{"row":26,"column":68},"end":{"row":26,"column":69},"action":"remove","lines":["n"]}],[{"start":{"row":26,"column":68},"end":{"row":26,"column":69},"action":"remove","lines":["e"],"id":1280},{"start":{"row":26,"column":68},"end":{"row":26,"column":69},"action":"remove","lines":["t"]}],[{"start":{"row":27,"column":35},"end":{"row":27,"column":36},"action":"remove","lines":["'"],"id":1281},{"start":{"row":27,"column":35},"end":{"row":27,"column":36},"action":"insert","lines":["`"]}],[{"start":{"row":26,"column":90},"end":{"row":26,"column":91},"action":"remove","lines":["`"],"id":1282},{"start":{"row":26,"column":90},"end":{"row":26,"column":91},"action":"insert","lines":["'"]}],[{"start":{"row":26,"column":82},"end":{"row":26,"column":83},"action":"remove","lines":["'"],"id":1283},{"start":{"row":26,"column":82},"end":{"row":26,"column":83},"action":"insert","lines":["`"]}],[{"start":{"row":27,"column":92},"end":{"row":27,"column":93},"action":"remove","lines":["'"],"id":1284},{"start":{"row":27,"column":92},"end":{"row":27,"column":93},"action":"insert","lines":["`"]}],[{"start":{"row":27,"column":58},"end":{"row":27,"column":80},"action":"remove","lines":["ccdifatizapan.ddns.net"],"id":1285},{"start":{"row":27,"column":58},"end":{"row":27,"column":67},"action":"insert","lines":["${DOMAIN}"]}],[{"start":{"row":26,"column":92},"end":{"row":26,"column":93},"action":"insert","lines":[";"],"id":1286}],[{"start":{"row":27,"column":89},"end":{"row":27,"column":90},"action":"insert","lines":[";"],"id":1287}],[{"start":{"row":28,"column":57},"end":{"row":28,"column":58},"action":"insert","lines":[";"],"id":1288}],[{"start":{"row":31,"column":56},"end":{"row":31,"column":57},"action":"insert","lines":[";"],"id":1289}],[{"start":{"row":531,"column":2},"end":{"row":533,"column":8},"action":"remove","lines":["// app.listen(PORT, () => {","  //   console.log(`AdminJS started on http://${IPADDR}:${PORT}${admin.options.rootPath}`);","  // });"],"id":1290},{"start":{"row":531,"column":0},"end":{"row":531,"column":2},"action":"remove","lines":["  "]},{"start":{"row":530,"column":2},"end":{"row":531,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":519,"column":2},"end":{"row":525,"column":20},"action":"remove","lines":["// https.createServer(https_options, function (req, res) {","  ","  // res.writeHead(200);","  ","  // res.end(`AdminJS started on http://${IPADDR}:${PORT}${admin.options.rootPath}`);","  ","  // }).listen(PORT)"],"id":1291},{"start":{"row":519,"column":0},"end":{"row":519,"column":2},"action":"remove","lines":["  "]},{"start":{"row":518,"column":2},"end":{"row":519,"column":0},"action":"remove","lines":["",""]},{"start":{"row":518,"column":0},"end":{"row":518,"column":2},"action":"remove","lines":["  "]},{"start":{"row":517,"column":7},"end":{"row":518,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":508,"column":2},"end":{"row":517,"column":7},"action":"remove","lines":["// var https_options = {","  //   key: fs.readFileSync(\"/etc/letsencrypt/live/domain.work/privkey.pem\"),","    ","  //   cert: fs.readFileSync(\"/etc/letsencrypt/live/domain.work/cert.pem\"),","    ","  //   ca: [","  //     fs.readFileSync('/etc/letsencrypt/live/domain.work/privkey.pem'),","  //     fs.readFileSync('/etc/letsencrypt/live/domain.work/cert.pem')","  //   ]","  // };"],"id":1292},{"start":{"row":508,"column":0},"end":{"row":508,"column":2},"action":"remove","lines":["  "]},{"start":{"row":507,"column":2},"end":{"row":508,"column":0},"action":"remove","lines":["",""]},{"start":{"row":507,"column":0},"end":{"row":507,"column":2},"action":"remove","lines":["  "]},{"start":{"row":506,"column":47},"end":{"row":507,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":6,"column":42},"end":{"row":9,"column":31},"action":"remove","lines":["","// import componentLoaderPass from './component-loader.js';","import { ValidationError } from 'adminjs';","// import argon2 from 'argon2';"],"id":1293,"ignore":true},{"start":{"row":9,"column":28},"end":{"row":10,"column":100},"action":"remove","lines":["","// const bcrypt = require('bcrypt'); // Importa el módulo bcrypt para la encriptación de contraseñas"]}],[{"start":{"row":51,"column":68},"end":{"row":52,"column":81},"action":"remove","lines":["","  // PDFGenerator: componentLoader.add('GeneratePDF', './pdfgenerator.component')"],"id":1294,"ignore":true}],[{"start":{"row":69,"column":0},"end":{"row":105,"column":0},"action":"remove","lines":["","","","// const validateFormComedor = (request, context) => {","//   const { payload = {}, method } = request;","  ","//   // We only want to validate \"post\" requests","//   if (method !== 'post') return request","  ","//   // Payload contains data sent from the frontend","//   const { nombre, folio , direccion, encargado, usuario, contrasena, costoracion, limitedonaciones, horarioapertura, horariocierre } = payload","  ","//   // We will store validation errors in an object, so that","//   // we can throw multiple errors at the same time","//   const errors = {}","  ","//   // We are doing validations and assigning errors to \"errors\" object","//   if (!age || age < 18) {","//     errors.age = {","//       message: 'A user must be at least 18 years old',","//     }","//   }","  ","//   if (lastName.trim().length === 0) {","//     errors.lastName = {","//       message: 'Last name is required',","//     }","//   }","  ","//   // We throw AdminJS ValidationError if there are errors in the payload","//   if (Object.keys(errors).length) {","//     throw new ValidationError(errors)","//   }","  ","//   return request","// };",""],"id":1295,"ignore":true},{"start":{"row":86,"column":6},"end":{"row":101,"column":11},"action":"remove","lines":["// {","      //   resource: User,","      //   options: {","      //     properties: { password: { isVisible: false } },","      //   },","      //   // features: [","      //   //   passwordsFeature({","      //   //     componentLoaderPass,","      //   //     properties: {","      //   //       encryptedPassword: 'password',","      //   //       password: 'newPassword'","      //   //     }","      //   //     // hash: argon2.hash,","      //   // })","      //   // ]","      // },"]}],[{"start":{"row":85,"column":16},"end":{"row":86,"column":6},"action":"remove","lines":["","      "],"id":1296,"ignore":true},{"start":{"row":166,"column":12},"end":{"row":177,"column":14},"action":"remove","lines":["","          // PDFGenerator: {","          //   actionType: 'record',","          //   component: Components.PDFGenerator,","          //   handler: (request, response, context) => {","          //     const { record, currentAdmin } = context;","          //     return {","          //       record: record.toJSON(currentAdmin),","          //       url: pdfgenerator(record.toJSON(currentAdmin))","          //     };","          //   }","          // }"]}],[{"start":{"row":245,"column":9},"end":{"row":265,"column":13},"action":"remove","lines":["","        // actions: {","        //   new: {","        //     before: async (request) => {","        //       bcrypt.hash(request.payload.contrasena, 10, function(err, hash) {","        //           if (hash) {","        //             request.payload.contrasena = hash;","        //             return request;","        //           }","        //           else {","        //             console.log(err);","        //           }","        //       });","        //       // Encriptar la contraseña antes de guardarla en la base de datos","        //       // const hashedPassword = await bcrypt.hash(request.payload.contrasena, 10);","        //       // request.payload.contrasena = hashedPassword;","              ","        //       return request;","        //     },","        //   },","        // },"],"id":1297,"ignore":true}],[{"start":{"row":236,"column":10},"end":{"row":245,"column":9},"action":"remove","lines":["","        features: [","          passwordsFeature({","            componentLoader,","            properties: {","              encryptedPassword: 'contrasena'","            },","            hash: bcrypt.hash,","          })","        ]"],"id":1298,"ignore":true},{"start":{"row":243,"column":8},"end":{"row":252,"column":10},"action":"remove","lines":["actions: {","          new: {","            before: async (request) => {","              // Establece el id del municipio como 1 antes de guardar el nuevo comedor","              request.payload.municipio = 1;","              ","              return request;","            },","          },","        },"]}],[{"start":{"row":242,"column":10},"end":{"row":243,"column":8},"action":"remove","lines":["","        "],"id":1299,"ignore":true}],[{"start":{"row":236,"column":10},"end":{"row":246,"column":10},"action":"insert","lines":["","        actions: {","          new: {","            before: async (request) => {","              // Establece el id del municipio como 1 antes de guardar el nuevo comedor","              request.payload.municipio = 1;","              ","              return request;","            },","          },","        },"],"id":1300,"ignore":true}],[{"start":{"row":426,"column":0},"end":{"row":441,"column":6},"action":"remove","lines":["// app.get('/graficaPrueba', async (req, res) => {","//   try {","//     const datos = await dbQueries.many('SELECT * FROM comedor;');","//     res.json(datos);","//     res.status(200);","//     res.send();","//   } catch (error) {","//     // Manejar errores","//     res.status(500).json({ error: 'Error al obtener datos' });","//   }","// });","","// app.get('/graficaVisitas/:comedor', (req, res) => {","//   const comedor = req.params.comedor;","  ","// });"],"id":1301,"ignore":true}],[{"start":{"row":473,"column":24},"end":{"row":473,"column":25},"action":"insert","lines":[";"],"id":1302,"ignore":true},{"start":{"row":481,"column":78},"end":{"row":481,"column":79},"action":"insert","lines":[";"]}],[{"start":{"row":483,"column":83},"end":{"row":483,"column":84},"action":"insert","lines":[";"],"id":1303,"ignore":true},{"start":{"row":484,"column":32},"end":{"row":484,"column":33},"action":"insert","lines":[";"]},{"start":{"row":491,"column":23},"end":{"row":491,"column":24},"action":"insert","lines":[";"]}],[{"start":{"row":493,"column":33},"end":{"row":493,"column":34},"action":"insert","lines":[";"],"id":1304,"ignore":true},{"start":{"row":494,"column":41},"end":{"row":494,"column":42},"action":"insert","lines":[";"]}],[{"start":{"row":528,"column":25},"end":{"row":528,"column":26},"action":"insert","lines":[";"],"id":1305,"ignore":true}],[{"start":{"row":594,"column":14},"end":{"row":594,"column":15},"action":"insert","lines":[";"],"id":1306,"ignore":true},{"start":{"row":611,"column":32},"end":{"row":611,"column":33},"action":"insert","lines":[";"]}],[{"start":{"row":638,"column":30},"end":{"row":638,"column":31},"action":"insert","lines":[";"],"id":1307,"ignore":true},{"start":{"row":639,"column":21},"end":{"row":639,"column":22},"action":"insert","lines":[";"]},{"start":{"row":644,"column":23},"end":{"row":644,"column":24},"action":"insert","lines":[";"]},{"start":{"row":646,"column":14},"end":{"row":646,"column":15},"action":"insert","lines":[";"]}],[{"start":{"row":656,"column":31},"end":{"row":656,"column":32},"action":"insert","lines":[";"],"id":1308,"ignore":true},{"start":{"row":657,"column":20},"end":{"row":657,"column":21},"action":"insert","lines":[";"]},{"start":{"row":662,"column":23},"end":{"row":662,"column":24},"action":"insert","lines":[";"]},{"start":{"row":664,"column":14},"end":{"row":664,"column":15},"action":"insert","lines":[";"]}],[{"start":{"row":674,"column":34},"end":{"row":674,"column":35},"action":"insert","lines":[";"],"id":1309,"ignore":true},{"start":{"row":675,"column":44},"end":{"row":675,"column":45},"action":"insert","lines":[";"]},{"start":{"row":676,"column":48},"end":{"row":676,"column":49},"action":"insert","lines":[";"]},{"start":{"row":677,"column":46},"end":{"row":677,"column":47},"action":"insert","lines":[";"]},{"start":{"row":678,"column":41},"end":{"row":678,"column":42},"action":"insert","lines":[";"]},{"start":{"row":681,"column":46},"end":{"row":681,"column":47},"action":"insert","lines":[";"]},{"start":{"row":683,"column":31},"end":{"row":683,"column":32},"action":"insert","lines":[";"]},{"start":{"row":685,"column":14},"end":{"row":685,"column":15},"action":"insert","lines":[";"]}],[{"start":{"row":695,"column":36},"end":{"row":695,"column":37},"action":"insert","lines":[";"],"id":1310,"ignore":true},{"start":{"row":696,"column":44},"end":{"row":696,"column":45},"action":"insert","lines":[";"]},{"start":{"row":699,"column":36},"end":{"row":699,"column":37},"action":"insert","lines":[";"]},{"start":{"row":701,"column":26},"end":{"row":701,"column":27},"action":"insert","lines":[";"]},{"start":{"row":703,"column":14},"end":{"row":703,"column":15},"action":"insert","lines":[";"]},{"start":{"row":717,"column":38},"end":{"row":717,"column":39},"action":"insert","lines":[";"]}],[{"start":{"row":719,"column":25},"end":{"row":719,"column":26},"action":"insert","lines":[";"],"id":1311,"ignore":true},{"start":{"row":724,"column":34},"end":{"row":724,"column":35},"action":"insert","lines":[";"]},{"start":{"row":725,"column":40},"end":{"row":725,"column":41},"action":"insert","lines":[";"]},{"start":{"row":740,"column":42},"end":{"row":740,"column":43},"action":"insert","lines":[";"]}],[{"start":{"row":806,"column":86},"end":{"row":806,"column":87},"action":"insert","lines":[";"],"id":1312,"ignore":true}],[{"start":{"row":825,"column":3},"end":{"row":843,"column":10},"action":"remove","lines":["","","","","","// app.post('/agregarVoluntario', async (req, res) => {","//   try {","//     const nombre = req.body.nombre;","//     const apellido = req.body.apellido;","//     const curp = req.body.curp;","//     const telefono = req.body.telefono;","    ","//     const vol = await dbQueries.one('INSERT into voluntario(curp, nombre, apellidos, telefono) VALUES($1, $2, $3, $4);', ","//     [curp, nombre, apellido, telefono]);","//   } catch(error) {","//     //Maneja errores","//     res.status(500).json({error: 'Error al insertar voluntario' });","//   }","//     });"],"id":1313,"ignore":true}]]},"ace":{"folds":[],"scrolltop":7725.000000000001,"scrollleft":0,"selection":{"start":{"row":448,"column":11},"end":{"row":448,"column":23},"isBackwards":false},"options":{"tabSize":2,"useSoftTabs":true,"guessTabSize":false,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1697959210193,"hash":"84a57307c979fe6fec9f8765198e481d7d8cb7be"}