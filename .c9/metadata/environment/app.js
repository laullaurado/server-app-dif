{"filter":false,"title":"app.js","tooltip":"/app.js","undoManager":{"mark":100,"position":100,"stack":[[{"start":{"row":870,"column":3},"end":{"row":870,"column":44},"action":"remove","lines":[" console.log(\"idusuario \" + idasistencia)"],"id":1112},{"start":{"row":870,"column":2},"end":{"row":870,"column":3},"action":"remove","lines":[" "]},{"start":{"row":870,"column":0},"end":{"row":870,"column":2},"action":"remove","lines":["  "]},{"start":{"row":869,"column":42},"end":{"row":870,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":861,"column":0},"end":{"row":861,"column":24},"action":"remove","lines":["    console.log(\"ADIOS\")"],"id":1113},{"start":{"row":860,"column":7},"end":{"row":861,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":863,"column":2},"end":{"row":863,"column":4},"action":"remove","lines":["  "],"id":1114},{"start":{"row":863,"column":0},"end":{"row":863,"column":2},"action":"remove","lines":["  "]},{"start":{"row":862,"column":31},"end":{"row":863,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":868,"column":4},"end":{"row":868,"column":6},"action":"remove","lines":["  "],"id":1115},{"start":{"row":868,"column":2},"end":{"row":868,"column":4},"action":"remove","lines":["  "]},{"start":{"row":868,"column":0},"end":{"row":868,"column":2},"action":"remove","lines":["  "]},{"start":{"row":867,"column":42},"end":{"row":868,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":866,"column":6},"end":{"row":866,"column":7},"action":"remove","lines":[" "],"id":1116},{"start":{"row":866,"column":4},"end":{"row":866,"column":6},"action":"remove","lines":["  "]},{"start":{"row":866,"column":2},"end":{"row":866,"column":4},"action":"remove","lines":["  "]},{"start":{"row":866,"column":0},"end":{"row":866,"column":2},"action":"remove","lines":["  "]},{"start":{"row":865,"column":4},"end":{"row":866,"column":0},"action":"remove","lines":["",""]},{"start":{"row":865,"column":2},"end":{"row":865,"column":4},"action":"remove","lines":["  "]}],[{"start":{"row":865,"column":0},"end":{"row":865,"column":2},"action":"remove","lines":["  "],"id":1117},{"start":{"row":864,"column":21},"end":{"row":865,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":867,"column":15},"end":{"row":868,"column":0},"action":"insert","lines":["",""],"id":1118},{"start":{"row":868,"column":0},"end":{"row":868,"column":4},"action":"insert","lines":["    "]},{"start":{"row":868,"column":4},"end":{"row":869,"column":0},"action":"insert","lines":["",""]},{"start":{"row":869,"column":0},"end":{"row":869,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":850,"column":4},"end":{"row":850,"column":5},"action":"insert","lines":["c"],"id":1119},{"start":{"row":850,"column":5},"end":{"row":850,"column":6},"action":"insert","lines":["o"]},{"start":{"row":850,"column":6},"end":{"row":850,"column":7},"action":"insert","lines":["n"]},{"start":{"row":850,"column":7},"end":{"row":850,"column":8},"action":"insert","lines":["s"]},{"start":{"row":850,"column":8},"end":{"row":850,"column":9},"action":"insert","lines":["o"]}],[{"start":{"row":850,"column":4},"end":{"row":850,"column":9},"action":"remove","lines":["conso"],"id":1120},{"start":{"row":850,"column":4},"end":{"row":850,"column":11},"action":"insert","lines":["console"]}],[{"start":{"row":850,"column":11},"end":{"row":850,"column":12},"action":"insert","lines":["."],"id":1121},{"start":{"row":850,"column":12},"end":{"row":850,"column":13},"action":"insert","lines":["l"]},{"start":{"row":850,"column":13},"end":{"row":850,"column":14},"action":"insert","lines":["o"]}],[{"start":{"row":850,"column":12},"end":{"row":850,"column":14},"action":"remove","lines":["lo"],"id":1122},{"start":{"row":850,"column":12},"end":{"row":850,"column":17},"action":"insert","lines":["log()"]}],[{"start":{"row":850,"column":16},"end":{"row":850,"column":18},"action":"insert","lines":["\"\""],"id":1123}],[{"start":{"row":850,"column":17},"end":{"row":850,"column":18},"action":"insert","lines":["A"],"id":1124},{"start":{"row":850,"column":18},"end":{"row":850,"column":19},"action":"insert","lines":["S"]},{"start":{"row":850,"column":19},"end":{"row":850,"column":20},"action":"insert","lines":["I"]},{"start":{"row":850,"column":20},"end":{"row":850,"column":21},"action":"insert","lines":["T"]},{"start":{"row":850,"column":21},"end":{"row":850,"column":22},"action":"insert","lines":["E"]},{"start":{"row":850,"column":22},"end":{"row":850,"column":23},"action":"insert","lines":["N"]},{"start":{"row":850,"column":23},"end":{"row":850,"column":24},"action":"insert","lines":["C"]},{"start":{"row":850,"column":24},"end":{"row":850,"column":25},"action":"insert","lines":["I"]},{"start":{"row":850,"column":25},"end":{"row":850,"column":26},"action":"insert","lines":["A"]}],[{"start":{"row":850,"column":26},"end":{"row":850,"column":27},"action":"insert","lines":[" "],"id":1125},{"start":{"row":850,"column":27},"end":{"row":850,"column":28},"action":"insert","lines":["R"]},{"start":{"row":850,"column":28},"end":{"row":850,"column":29},"action":"insert","lines":["E"]},{"start":{"row":850,"column":29},"end":{"row":850,"column":30},"action":"insert","lines":["I"]}],[{"start":{"row":850,"column":29},"end":{"row":850,"column":30},"action":"remove","lines":["I"],"id":1126}],[{"start":{"row":850,"column":29},"end":{"row":850,"column":30},"action":"insert","lines":["G"],"id":1127},{"start":{"row":850,"column":30},"end":{"row":850,"column":31},"action":"insert","lines":["I"]},{"start":{"row":850,"column":31},"end":{"row":850,"column":32},"action":"insert","lines":["S"]},{"start":{"row":850,"column":32},"end":{"row":850,"column":33},"action":"insert","lines":["T"]},{"start":{"row":850,"column":33},"end":{"row":850,"column":34},"action":"insert","lines":["A"]}],[{"start":{"row":850,"column":33},"end":{"row":850,"column":34},"action":"remove","lines":["A"],"id":1128}],[{"start":{"row":850,"column":33},"end":{"row":850,"column":34},"action":"insert","lines":["R"],"id":1129},{"start":{"row":850,"column":34},"end":{"row":850,"column":35},"action":"insert","lines":["A"]},{"start":{"row":850,"column":35},"end":{"row":850,"column":36},"action":"insert","lines":["D"]},{"start":{"row":850,"column":36},"end":{"row":850,"column":37},"action":"insert","lines":["A"]}],[{"start":{"row":850,"column":17},"end":{"row":850,"column":26},"action":"remove","lines":["ASITENCIA"],"id":1130},{"start":{"row":850,"column":17},"end":{"row":850,"column":18},"action":"insert","lines":["B"]}],[{"start":{"row":850,"column":17},"end":{"row":850,"column":18},"action":"remove","lines":["B"],"id":1131}],[{"start":{"row":850,"column":17},"end":{"row":850,"column":18},"action":"insert","lines":["V"],"id":1132},{"start":{"row":850,"column":18},"end":{"row":850,"column":19},"action":"insert","lines":["O"]},{"start":{"row":850,"column":19},"end":{"row":850,"column":20},"action":"insert","lines":["L"]},{"start":{"row":850,"column":20},"end":{"row":850,"column":21},"action":"insert","lines":["U"]},{"start":{"row":850,"column":21},"end":{"row":850,"column":22},"action":"insert","lines":["N"]},{"start":{"row":850,"column":22},"end":{"row":850,"column":23},"action":"insert","lines":["T"]},{"start":{"row":850,"column":23},"end":{"row":850,"column":24},"action":"insert","lines":["A"]},{"start":{"row":850,"column":24},"end":{"row":850,"column":25},"action":"insert","lines":["R"]},{"start":{"row":850,"column":25},"end":{"row":850,"column":26},"action":"insert","lines":["I"]},{"start":{"row":850,"column":26},"end":{"row":850,"column":27},"action":"insert","lines":["O"]}],[{"start":{"row":850,"column":37},"end":{"row":850,"column":38},"action":"remove","lines":["A"],"id":1133}],[{"start":{"row":850,"column":37},"end":{"row":850,"column":38},"action":"insert","lines":["O"],"id":1134}],[{"start":{"row":863,"column":100},"end":{"row":863,"column":101},"action":"insert","lines":["$"],"id":1135}],[{"start":{"row":863,"column":116},"end":{"row":863,"column":117},"action":"remove","lines":["'"],"id":1136},{"start":{"row":863,"column":115},"end":{"row":863,"column":116},"action":"remove","lines":["7"]},{"start":{"row":863,"column":114},"end":{"row":863,"column":115},"action":"remove","lines":["6"]},{"start":{"row":863,"column":113},"end":{"row":863,"column":114},"action":"remove","lines":["5"]},{"start":{"row":863,"column":112},"end":{"row":863,"column":113},"action":"remove","lines":["4"]},{"start":{"row":863,"column":111},"end":{"row":863,"column":112},"action":"remove","lines":["3"]},{"start":{"row":863,"column":110},"end":{"row":863,"column":111},"action":"remove","lines":["2"]},{"start":{"row":863,"column":109},"end":{"row":863,"column":110},"action":"remove","lines":["1"]},{"start":{"row":863,"column":108},"end":{"row":863,"column":109},"action":"remove","lines":["A"]},{"start":{"row":863,"column":107},"end":{"row":863,"column":108},"action":"remove","lines":["L"]},{"start":{"row":863,"column":106},"end":{"row":863,"column":107},"action":"remove","lines":["O"]},{"start":{"row":863,"column":105},"end":{"row":863,"column":106},"action":"remove","lines":["H"]},{"start":{"row":863,"column":104},"end":{"row":863,"column":105},"action":"remove","lines":["'"]}],[{"start":{"row":863,"column":104},"end":{"row":863,"column":105},"action":"insert","lines":["$"],"id":1137},{"start":{"row":863,"column":105},"end":{"row":863,"column":106},"action":"insert","lines":["2"]}],[{"start":{"row":865,"column":42},"end":{"row":866,"column":0},"action":"insert","lines":["",""],"id":1138},{"start":{"row":866,"column":0},"end":{"row":866,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":870,"column":2},"end":{"row":870,"column":4},"action":"remove","lines":["  "],"id":1139},{"start":{"row":870,"column":0},"end":{"row":870,"column":2},"action":"remove","lines":["  "]},{"start":{"row":869,"column":4},"end":{"row":870,"column":0},"action":"remove","lines":["",""]},{"start":{"row":869,"column":2},"end":{"row":869,"column":4},"action":"remove","lines":["  "]},{"start":{"row":869,"column":0},"end":{"row":869,"column":2},"action":"remove","lines":["  "]},{"start":{"row":868,"column":15},"end":{"row":869,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":866,"column":2},"end":{"row":866,"column":4},"action":"remove","lines":["  "],"id":1140},{"start":{"row":866,"column":0},"end":{"row":866,"column":2},"action":"remove","lines":["  "]},{"start":{"row":865,"column":42},"end":{"row":866,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":681,"column":38},"end":{"row":681,"column":163},"action":"remove","lines":["SELECT DISTINCT nombre FROM asistencia, voluntario WHERE asistencia.voluntario = voluntario.curp and asistencia.comedor = $1;"],"id":1141},{"start":{"row":681,"column":38},"end":{"row":681,"column":242},"action":"insert","lines":["SELECT DISTINCT nombre FROM asistencia, voluntario WHERE asistencia.voluntario = voluntario.curp and asistencia.comedor = 1 and DATE(asistencia.fechahora) = DATE(NOW() AT TIME ZONE 'America/Mexico_City');"]}],[{"start":{"row":681,"column":160},"end":{"row":681,"column":161},"action":"insert","lines":["$"],"id":1142}],[{"start":{"row":23,"column":67},"end":{"row":24,"column":0},"action":"insert","lines":["",""],"id":1143},{"start":{"row":24,"column":0},"end":{"row":25,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":25,"column":0},"end":{"row":27,"column":57},"action":"insert","lines":["const certificate = fs.readFileSync('/etc/letsencrypt/live/NOMBRE-DEL-DOMINIO/fullchain.pem', 'utf8')","const privateKey = fs.readFileSync('/etc/letsencrypt/live/NOMBRE-DEL-DOMINIO/privkey.pem', 'utf8')","const credentials = { key: privateKey, cert: certificate}"],"id":1144}],[{"start":{"row":21,"column":18},"end":{"row":22,"column":0},"action":"insert","lines":["",""],"id":1145},{"start":{"row":22,"column":0},"end":{"row":22,"column":1},"action":"insert","lines":["c"]}],[{"start":{"row":22,"column":0},"end":{"row":22,"column":1},"action":"remove","lines":["c"],"id":1146},{"start":{"row":21,"column":18},"end":{"row":22,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":22,"column":31},"end":{"row":23,"column":0},"action":"insert","lines":["",""],"id":1147},{"start":{"row":23,"column":0},"end":{"row":23,"column":1},"action":"insert","lines":["c"]},{"start":{"row":23,"column":1},"end":{"row":23,"column":2},"action":"insert","lines":["o"]},{"start":{"row":23,"column":2},"end":{"row":23,"column":3},"action":"insert","lines":["n"]},{"start":{"row":23,"column":3},"end":{"row":23,"column":4},"action":"insert","lines":["s"]},{"start":{"row":23,"column":4},"end":{"row":23,"column":5},"action":"insert","lines":["t"]}],[{"start":{"row":23,"column":5},"end":{"row":23,"column":6},"action":"insert","lines":[" "],"id":1148},{"start":{"row":23,"column":6},"end":{"row":23,"column":7},"action":"insert","lines":["D"]},{"start":{"row":23,"column":7},"end":{"row":23,"column":8},"action":"insert","lines":["O"]},{"start":{"row":23,"column":8},"end":{"row":23,"column":9},"action":"insert","lines":["M"]},{"start":{"row":23,"column":9},"end":{"row":23,"column":10},"action":"insert","lines":["A"]},{"start":{"row":23,"column":10},"end":{"row":23,"column":11},"action":"insert","lines":["I"]},{"start":{"row":23,"column":11},"end":{"row":23,"column":12},"action":"insert","lines":["N"]}],[{"start":{"row":23,"column":12},"end":{"row":23,"column":13},"action":"insert","lines":[" "],"id":1149},{"start":{"row":23,"column":13},"end":{"row":23,"column":14},"action":"insert","lines":["="]}],[{"start":{"row":23,"column":14},"end":{"row":23,"column":15},"action":"insert","lines":[" "],"id":1150}],[{"start":{"row":23,"column":15},"end":{"row":23,"column":17},"action":"insert","lines":["''"],"id":1151}],[{"start":{"row":23,"column":16},"end":{"row":23,"column":38},"action":"insert","lines":["ccdifatizapan.ddns.net"],"id":1152}],[{"start":{"row":23,"column":39},"end":{"row":23,"column":40},"action":"insert","lines":[";"],"id":1153}],[{"start":{"row":30,"column":22},"end":{"row":31,"column":0},"action":"insert","lines":["",""],"id":1154}],[{"start":{"row":31,"column":0},"end":{"row":31,"column":56},"action":"insert","lines":["const httpsServer = https.createServer(credentials, app)"],"id":1155}],[{"start":{"row":527,"column":0},"end":{"row":527,"column":2},"action":"insert","lines":["  "],"id":1156}],[{"start":{"row":527,"column":2},"end":{"row":528,"column":0},"action":"insert","lines":["",""],"id":1157},{"start":{"row":528,"column":0},"end":{"row":528,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":527,"column":2},"end":{"row":528,"column":0},"action":"insert","lines":["",""],"id":1158},{"start":{"row":528,"column":0},"end":{"row":528,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":528,"column":0},"end":{"row":528,"column":2},"action":"remove","lines":["  "],"id":1159},{"start":{"row":527,"column":2},"end":{"row":528,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":527,"column":2},"end":{"row":529,"column":37},"action":"insert","lines":["httpsServer.listen(port, () => console.log(","  `Express started on https://${domain}:${port}`","  + '\\nPress Ctrl-C to terminate.'));"],"id":1160}],[{"start":{"row":527,"column":21},"end":{"row":527,"column":25},"action":"remove","lines":["port"],"id":1161},{"start":{"row":527,"column":21},"end":{"row":527,"column":22},"action":"insert","lines":["P"]},{"start":{"row":527,"column":22},"end":{"row":527,"column":23},"action":"insert","lines":["O"]},{"start":{"row":527,"column":23},"end":{"row":527,"column":24},"action":"insert","lines":["R"]},{"start":{"row":527,"column":24},"end":{"row":527,"column":25},"action":"insert","lines":["T"]}],[{"start":{"row":527,"column":33},"end":{"row":529,"column":37},"action":"remove","lines":["console.log(","  `Express started on https://${domain}:${port}`","  + '\\nPress Ctrl-C to terminate.'));"],"id":1162}],[{"start":{"row":527,"column":33},"end":{"row":529,"column":5},"action":"insert","lines":["{","    console.log(`AdminJS started on http://${IPADDR}:${PORT}${admin.options.rootPath}`);","  });"],"id":1163}],[{"start":{"row":531,"column":2},"end":{"row":531,"column":5},"action":"insert","lines":["// "],"id":1164},{"start":{"row":532,"column":2},"end":{"row":532,"column":5},"action":"insert","lines":["// "]},{"start":{"row":533,"column":2},"end":{"row":533,"column":5},"action":"insert","lines":["// "]}],[{"start":{"row":528,"column":45},"end":{"row":528,"column":51},"action":"remove","lines":["IPADDR"],"id":1165},{"start":{"row":528,"column":45},"end":{"row":528,"column":46},"action":"insert","lines":["D"]},{"start":{"row":528,"column":46},"end":{"row":528,"column":47},"action":"insert","lines":["O"]},{"start":{"row":528,"column":47},"end":{"row":528,"column":48},"action":"insert","lines":["M"]},{"start":{"row":528,"column":48},"end":{"row":528,"column":49},"action":"insert","lines":["A"]},{"start":{"row":528,"column":49},"end":{"row":528,"column":50},"action":"insert","lines":["I"]},{"start":{"row":528,"column":50},"end":{"row":528,"column":51},"action":"insert","lines":["N"]}],[{"start":{"row":26,"column":59},"end":{"row":26,"column":77},"action":"remove","lines":["NOMBRE-DEL-DOMINIO"],"id":1166},{"start":{"row":26,"column":59},"end":{"row":26,"column":81},"action":"insert","lines":["ccdifatizapan.ddns.net"]}],[{"start":{"row":27,"column":58},"end":{"row":27,"column":76},"action":"remove","lines":["NOMBRE-DEL-DOMINIO"],"id":1167},{"start":{"row":27,"column":58},"end":{"row":27,"column":80},"action":"insert","lines":["ccdifatizapan.ddns.net"]}],[{"start":{"row":528,"column":40},"end":{"row":528,"column":41},"action":"insert","lines":["s"],"id":1168}],[{"start":{"row":26,"column":59},"end":{"row":26,"column":60},"action":"insert","lines":["$"],"id":1169},{"start":{"row":26,"column":60},"end":{"row":26,"column":61},"action":"insert","lines":["{"]},{"start":{"row":26,"column":61},"end":{"row":26,"column":62},"action":"insert","lines":["D"]},{"start":{"row":26,"column":62},"end":{"row":26,"column":63},"action":"insert","lines":["O"]}],[{"start":{"row":26,"column":63},"end":{"row":26,"column":64},"action":"insert","lines":["M"],"id":1170},{"start":{"row":26,"column":64},"end":{"row":26,"column":65},"action":"insert","lines":["A"]},{"start":{"row":26,"column":65},"end":{"row":26,"column":66},"action":"insert","lines":["I"]},{"start":{"row":26,"column":66},"end":{"row":26,"column":67},"action":"insert","lines":["N"]},{"start":{"row":26,"column":67},"end":{"row":26,"column":68},"action":"insert","lines":["}"]}],[{"start":{"row":26,"column":67},"end":{"row":26,"column":68},"action":"remove","lines":["}"],"id":1171},{"start":{"row":26,"column":66},"end":{"row":26,"column":67},"action":"remove","lines":["N"]},{"start":{"row":26,"column":65},"end":{"row":26,"column":66},"action":"remove","lines":["I"]},{"start":{"row":26,"column":64},"end":{"row":26,"column":65},"action":"remove","lines":["A"]},{"start":{"row":26,"column":63},"end":{"row":26,"column":64},"action":"remove","lines":["M"]},{"start":{"row":26,"column":62},"end":{"row":26,"column":63},"action":"remove","lines":["O"]},{"start":{"row":26,"column":61},"end":{"row":26,"column":62},"action":"remove","lines":["D"]},{"start":{"row":26,"column":60},"end":{"row":26,"column":61},"action":"remove","lines":["{"]},{"start":{"row":26,"column":59},"end":{"row":26,"column":60},"action":"remove","lines":["$"]}],[{"start":{"row":26,"column":36},"end":{"row":26,"column":37},"action":"remove","lines":["'"],"id":1172}],[{"start":{"row":26,"column":36},"end":{"row":26,"column":37},"action":"insert","lines":["`"],"id":1173}],[{"start":{"row":26,"column":103},"end":{"row":26,"column":104},"action":"remove","lines":["'"],"id":1174}],[{"start":{"row":26,"column":103},"end":{"row":26,"column":104},"action":"insert","lines":["`"],"id":1175}],[{"start":{"row":26,"column":59},"end":{"row":26,"column":60},"action":"insert","lines":["$"],"id":1176}],[{"start":{"row":26,"column":60},"end":{"row":26,"column":61},"action":"insert","lines":["{"],"id":1177},{"start":{"row":26,"column":61},"end":{"row":26,"column":62},"action":"insert","lines":["D"]},{"start":{"row":26,"column":62},"end":{"row":26,"column":63},"action":"insert","lines":["O"]},{"start":{"row":26,"column":63},"end":{"row":26,"column":64},"action":"insert","lines":["M"]},{"start":{"row":26,"column":64},"end":{"row":26,"column":65},"action":"insert","lines":["A"]},{"start":{"row":26,"column":65},"end":{"row":26,"column":66},"action":"insert","lines":["I"]},{"start":{"row":26,"column":66},"end":{"row":26,"column":67},"action":"insert","lines":["N"]},{"start":{"row":26,"column":67},"end":{"row":26,"column":68},"action":"insert","lines":["}"]}],[{"start":{"row":26,"column":68},"end":{"row":26,"column":69},"action":"remove","lines":["c"],"id":1178},{"start":{"row":26,"column":68},"end":{"row":26,"column":69},"action":"remove","lines":["c"]},{"start":{"row":26,"column":68},"end":{"row":26,"column":69},"action":"remove","lines":["d"]},{"start":{"row":26,"column":68},"end":{"row":26,"column":69},"action":"remove","lines":["i"]},{"start":{"row":26,"column":68},"end":{"row":26,"column":69},"action":"remove","lines":["f"]},{"start":{"row":26,"column":68},"end":{"row":26,"column":69},"action":"remove","lines":["a"]},{"start":{"row":26,"column":68},"end":{"row":26,"column":69},"action":"remove","lines":["t"]},{"start":{"row":26,"column":68},"end":{"row":26,"column":69},"action":"remove","lines":["i"]},{"start":{"row":26,"column":68},"end":{"row":26,"column":69},"action":"remove","lines":["z"]},{"start":{"row":26,"column":68},"end":{"row":26,"column":69},"action":"remove","lines":["a"]},{"start":{"row":26,"column":68},"end":{"row":26,"column":69},"action":"remove","lines":["p"]},{"start":{"row":26,"column":68},"end":{"row":26,"column":69},"action":"remove","lines":["a"]},{"start":{"row":26,"column":68},"end":{"row":26,"column":69},"action":"remove","lines":["n"]},{"start":{"row":26,"column":68},"end":{"row":26,"column":69},"action":"remove","lines":["."]},{"start":{"row":26,"column":68},"end":{"row":26,"column":69},"action":"remove","lines":["d"]},{"start":{"row":26,"column":68},"end":{"row":26,"column":69},"action":"remove","lines":["d"]},{"start":{"row":26,"column":68},"end":{"row":26,"column":69},"action":"remove","lines":["n"]},{"start":{"row":26,"column":68},"end":{"row":26,"column":69},"action":"remove","lines":["s"]},{"start":{"row":26,"column":68},"end":{"row":26,"column":69},"action":"remove","lines":["."]},{"start":{"row":26,"column":68},"end":{"row":26,"column":69},"action":"remove","lines":["n"]}],[{"start":{"row":26,"column":68},"end":{"row":26,"column":69},"action":"remove","lines":["e"],"id":1179},{"start":{"row":26,"column":68},"end":{"row":26,"column":69},"action":"remove","lines":["t"]}],[{"start":{"row":27,"column":35},"end":{"row":27,"column":36},"action":"remove","lines":["'"],"id":1180},{"start":{"row":27,"column":35},"end":{"row":27,"column":36},"action":"insert","lines":["`"]}],[{"start":{"row":26,"column":90},"end":{"row":26,"column":91},"action":"remove","lines":["`"],"id":1181},{"start":{"row":26,"column":90},"end":{"row":26,"column":91},"action":"insert","lines":["'"]}],[{"start":{"row":26,"column":82},"end":{"row":26,"column":83},"action":"remove","lines":["'"],"id":1182},{"start":{"row":26,"column":82},"end":{"row":26,"column":83},"action":"insert","lines":["`"]}],[{"start":{"row":27,"column":92},"end":{"row":27,"column":93},"action":"remove","lines":["'"],"id":1183},{"start":{"row":27,"column":92},"end":{"row":27,"column":93},"action":"insert","lines":["`"]}],[{"start":{"row":27,"column":58},"end":{"row":27,"column":80},"action":"remove","lines":["ccdifatizapan.ddns.net"],"id":1184},{"start":{"row":27,"column":58},"end":{"row":27,"column":67},"action":"insert","lines":["${DOMAIN}"]}],[{"start":{"row":26,"column":92},"end":{"row":26,"column":93},"action":"insert","lines":[";"],"id":1185}],[{"start":{"row":27,"column":89},"end":{"row":27,"column":90},"action":"insert","lines":[";"],"id":1186}],[{"start":{"row":28,"column":57},"end":{"row":28,"column":58},"action":"insert","lines":[";"],"id":1187}],[{"start":{"row":31,"column":56},"end":{"row":31,"column":57},"action":"insert","lines":[";"],"id":1188}],[{"start":{"row":531,"column":2},"end":{"row":533,"column":8},"action":"remove","lines":["// app.listen(PORT, () => {","  //   console.log(`AdminJS started on http://${IPADDR}:${PORT}${admin.options.rootPath}`);","  // });"],"id":1189},{"start":{"row":531,"column":0},"end":{"row":531,"column":2},"action":"remove","lines":["  "]},{"start":{"row":530,"column":2},"end":{"row":531,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":519,"column":2},"end":{"row":525,"column":20},"action":"remove","lines":["// https.createServer(https_options, function (req, res) {","  ","  // res.writeHead(200);","  ","  // res.end(`AdminJS started on http://${IPADDR}:${PORT}${admin.options.rootPath}`);","  ","  // }).listen(PORT)"],"id":1190},{"start":{"row":519,"column":0},"end":{"row":519,"column":2},"action":"remove","lines":["  "]},{"start":{"row":518,"column":2},"end":{"row":519,"column":0},"action":"remove","lines":["",""]},{"start":{"row":518,"column":0},"end":{"row":518,"column":2},"action":"remove","lines":["  "]},{"start":{"row":517,"column":7},"end":{"row":518,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":508,"column":2},"end":{"row":517,"column":7},"action":"remove","lines":["// var https_options = {","  //   key: fs.readFileSync(\"/etc/letsencrypt/live/domain.work/privkey.pem\"),","    ","  //   cert: fs.readFileSync(\"/etc/letsencrypt/live/domain.work/cert.pem\"),","    ","  //   ca: [","  //     fs.readFileSync('/etc/letsencrypt/live/domain.work/privkey.pem'),","  //     fs.readFileSync('/etc/letsencrypt/live/domain.work/cert.pem')","  //   ]","  // };"],"id":1191},{"start":{"row":508,"column":0},"end":{"row":508,"column":2},"action":"remove","lines":["  "]},{"start":{"row":507,"column":2},"end":{"row":508,"column":0},"action":"remove","lines":["",""]},{"start":{"row":507,"column":0},"end":{"row":507,"column":2},"action":"remove","lines":["  "]},{"start":{"row":506,"column":47},"end":{"row":507,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":6,"column":42},"end":{"row":9,"column":31},"action":"remove","lines":["","// import componentLoaderPass from './component-loader.js';","import { ValidationError } from 'adminjs';","// import argon2 from 'argon2';"],"id":1193,"ignore":true},{"start":{"row":9,"column":28},"end":{"row":10,"column":100},"action":"remove","lines":["","// const bcrypt = require('bcrypt'); // Importa el módulo bcrypt para la encriptación de contraseñas"]}],[{"start":{"row":51,"column":68},"end":{"row":52,"column":81},"action":"remove","lines":["","  // PDFGenerator: componentLoader.add('GeneratePDF', './pdfgenerator.component')"],"id":1194,"ignore":true}],[{"start":{"row":69,"column":0},"end":{"row":105,"column":0},"action":"remove","lines":["","","","// const validateFormComedor = (request, context) => {","//   const { payload = {}, method } = request;","  ","//   // We only want to validate \"post\" requests","//   if (method !== 'post') return request","  ","//   // Payload contains data sent from the frontend","//   const { nombre, folio , direccion, encargado, usuario, contrasena, costoracion, limitedonaciones, horarioapertura, horariocierre } = payload","  ","//   // We will store validation errors in an object, so that","//   // we can throw multiple errors at the same time","//   const errors = {}","  ","//   // We are doing validations and assigning errors to \"errors\" object","//   if (!age || age < 18) {","//     errors.age = {","//       message: 'A user must be at least 18 years old',","//     }","//   }","  ","//   if (lastName.trim().length === 0) {","//     errors.lastName = {","//       message: 'Last name is required',","//     }","//   }","  ","//   // We throw AdminJS ValidationError if there are errors in the payload","//   if (Object.keys(errors).length) {","//     throw new ValidationError(errors)","//   }","  ","//   return request","// };",""],"id":1195,"ignore":true},{"start":{"row":86,"column":6},"end":{"row":101,"column":11},"action":"remove","lines":["// {","      //   resource: User,","      //   options: {","      //     properties: { password: { isVisible: false } },","      //   },","      //   // features: [","      //   //   passwordsFeature({","      //   //     componentLoaderPass,","      //   //     properties: {","      //   //       encryptedPassword: 'password',","      //   //       password: 'newPassword'","      //   //     }","      //   //     // hash: argon2.hash,","      //   // })","      //   // ]","      // },"]}],[{"start":{"row":85,"column":16},"end":{"row":86,"column":6},"action":"remove","lines":["","      "],"id":1196,"ignore":true},{"start":{"row":166,"column":12},"end":{"row":177,"column":14},"action":"remove","lines":["","          // PDFGenerator: {","          //   actionType: 'record',","          //   component: Components.PDFGenerator,","          //   handler: (request, response, context) => {","          //     const { record, currentAdmin } = context;","          //     return {","          //       record: record.toJSON(currentAdmin),","          //       url: pdfgenerator(record.toJSON(currentAdmin))","          //     };","          //   }","          // }"]}],[{"start":{"row":245,"column":9},"end":{"row":265,"column":13},"action":"remove","lines":["","        // actions: {","        //   new: {","        //     before: async (request) => {","        //       bcrypt.hash(request.payload.contrasena, 10, function(err, hash) {","        //           if (hash) {","        //             request.payload.contrasena = hash;","        //             return request;","        //           }","        //           else {","        //             console.log(err);","        //           }","        //       });","        //       // Encriptar la contraseña antes de guardarla en la base de datos","        //       // const hashedPassword = await bcrypt.hash(request.payload.contrasena, 10);","        //       // request.payload.contrasena = hashedPassword;","              ","        //       return request;","        //     },","        //   },","        // },"],"id":1197,"ignore":true}],[{"start":{"row":236,"column":10},"end":{"row":245,"column":9},"action":"remove","lines":["","        features: [","          passwordsFeature({","            componentLoader,","            properties: {","              encryptedPassword: 'contrasena'","            },","            hash: bcrypt.hash,","          })","        ]"],"id":1198,"ignore":true},{"start":{"row":243,"column":8},"end":{"row":252,"column":10},"action":"remove","lines":["actions: {","          new: {","            before: async (request) => {","              // Establece el id del municipio como 1 antes de guardar el nuevo comedor","              request.payload.municipio = 1;","              ","              return request;","            },","          },","        },"]}],[{"start":{"row":242,"column":10},"end":{"row":243,"column":8},"action":"remove","lines":["","        "],"id":1199,"ignore":true}],[{"start":{"row":236,"column":10},"end":{"row":246,"column":10},"action":"insert","lines":["","        actions: {","          new: {","            before: async (request) => {","              // Establece el id del municipio como 1 antes de guardar el nuevo comedor","              request.payload.municipio = 1;","              ","              return request;","            },","          },","        },"],"id":1200,"ignore":true}],[{"start":{"row":426,"column":0},"end":{"row":441,"column":6},"action":"remove","lines":["// app.get('/graficaPrueba', async (req, res) => {","//   try {","//     const datos = await dbQueries.many('SELECT * FROM comedor;');","//     res.json(datos);","//     res.status(200);","//     res.send();","//   } catch (error) {","//     // Manejar errores","//     res.status(500).json({ error: 'Error al obtener datos' });","//   }","// });","","// app.get('/graficaVisitas/:comedor', (req, res) => {","//   const comedor = req.params.comedor;","  ","// });"],"id":1201,"ignore":true}],[{"start":{"row":473,"column":24},"end":{"row":473,"column":25},"action":"insert","lines":[";"],"id":1202,"ignore":true},{"start":{"row":481,"column":78},"end":{"row":481,"column":79},"action":"insert","lines":[";"]}],[{"start":{"row":483,"column":83},"end":{"row":483,"column":84},"action":"insert","lines":[";"],"id":1203,"ignore":true},{"start":{"row":484,"column":32},"end":{"row":484,"column":33},"action":"insert","lines":[";"]},{"start":{"row":491,"column":23},"end":{"row":491,"column":24},"action":"insert","lines":[";"]}],[{"start":{"row":493,"column":33},"end":{"row":493,"column":34},"action":"insert","lines":[";"],"id":1204,"ignore":true},{"start":{"row":494,"column":41},"end":{"row":494,"column":42},"action":"insert","lines":[";"]}],[{"start":{"row":528,"column":25},"end":{"row":528,"column":26},"action":"insert","lines":[";"],"id":1205,"ignore":true}],[{"start":{"row":594,"column":14},"end":{"row":594,"column":15},"action":"insert","lines":[";"],"id":1206,"ignore":true},{"start":{"row":611,"column":32},"end":{"row":611,"column":33},"action":"insert","lines":[";"]}],[{"start":{"row":638,"column":30},"end":{"row":638,"column":31},"action":"insert","lines":[";"],"id":1207,"ignore":true},{"start":{"row":639,"column":21},"end":{"row":639,"column":22},"action":"insert","lines":[";"]},{"start":{"row":644,"column":23},"end":{"row":644,"column":24},"action":"insert","lines":[";"]},{"start":{"row":646,"column":14},"end":{"row":646,"column":15},"action":"insert","lines":[";"]}],[{"start":{"row":656,"column":31},"end":{"row":656,"column":32},"action":"insert","lines":[";"],"id":1208,"ignore":true},{"start":{"row":657,"column":20},"end":{"row":657,"column":21},"action":"insert","lines":[";"]},{"start":{"row":662,"column":23},"end":{"row":662,"column":24},"action":"insert","lines":[";"]},{"start":{"row":664,"column":14},"end":{"row":664,"column":15},"action":"insert","lines":[";"]}],[{"start":{"row":674,"column":34},"end":{"row":674,"column":35},"action":"insert","lines":[";"],"id":1209,"ignore":true},{"start":{"row":675,"column":44},"end":{"row":675,"column":45},"action":"insert","lines":[";"]},{"start":{"row":676,"column":48},"end":{"row":676,"column":49},"action":"insert","lines":[";"]},{"start":{"row":677,"column":46},"end":{"row":677,"column":47},"action":"insert","lines":[";"]},{"start":{"row":678,"column":41},"end":{"row":678,"column":42},"action":"insert","lines":[";"]},{"start":{"row":681,"column":46},"end":{"row":681,"column":47},"action":"insert","lines":[";"]},{"start":{"row":683,"column":31},"end":{"row":683,"column":32},"action":"insert","lines":[";"]},{"start":{"row":685,"column":14},"end":{"row":685,"column":15},"action":"insert","lines":[";"]}],[{"start":{"row":695,"column":36},"end":{"row":695,"column":37},"action":"insert","lines":[";"],"id":1210,"ignore":true},{"start":{"row":696,"column":44},"end":{"row":696,"column":45},"action":"insert","lines":[";"]},{"start":{"row":699,"column":36},"end":{"row":699,"column":37},"action":"insert","lines":[";"]},{"start":{"row":701,"column":26},"end":{"row":701,"column":27},"action":"insert","lines":[";"]},{"start":{"row":703,"column":14},"end":{"row":703,"column":15},"action":"insert","lines":[";"]},{"start":{"row":717,"column":38},"end":{"row":717,"column":39},"action":"insert","lines":[";"]}],[{"start":{"row":719,"column":25},"end":{"row":719,"column":26},"action":"insert","lines":[";"],"id":1211,"ignore":true},{"start":{"row":724,"column":34},"end":{"row":724,"column":35},"action":"insert","lines":[";"]},{"start":{"row":725,"column":40},"end":{"row":725,"column":41},"action":"insert","lines":[";"]},{"start":{"row":740,"column":42},"end":{"row":740,"column":43},"action":"insert","lines":[";"]}],[{"start":{"row":806,"column":86},"end":{"row":806,"column":87},"action":"insert","lines":[";"],"id":1212,"ignore":true}],[{"start":{"row":825,"column":3},"end":{"row":843,"column":10},"action":"remove","lines":["","","","","","// app.post('/agregarVoluntario', async (req, res) => {","//   try {","//     const nombre = req.body.nombre;","//     const apellido = req.body.apellido;","//     const curp = req.body.curp;","//     const telefono = req.body.telefono;","    ","//     const vol = await dbQueries.one('INSERT into voluntario(curp, nombre, apellidos, telefono) VALUES($1, $2, $3, $4);', ","//     [curp, nombre, apellido, telefono]);","//   } catch(error) {","//     //Maneja errores","//     res.status(500).json({error: 'Error al insertar voluntario' });","//   }","//     });"],"id":1213,"ignore":true}]]},"ace":{"folds":[],"scrolltop":7725.000000000001,"scrollleft":0,"selection":{"start":{"row":448,"column":11},"end":{"row":448,"column":23},"isBackwards":false},"options":{"tabSize":2,"useSoftTabs":true,"guessTabSize":false,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":550,"state":"no_regex","mode":"ace/mode/javascript"}},"timestamp":1697959210193,"hash":"84a57307c979fe6fec9f8765198e481d7d8cb7be"}