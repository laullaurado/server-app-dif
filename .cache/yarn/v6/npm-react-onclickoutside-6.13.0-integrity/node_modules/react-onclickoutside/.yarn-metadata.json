{
  "manifest": {
    "name": "react-onclickoutside",
    "version": "6.13.0",
    "description": "An onClickOutside wrapper for React components",
    "main": "dist/react-onclickoutside.cjs.js",
    "module": "dist/react-onclickoutside.es.js",
    "jsnext:main": "dist/react-onclickoutside.es.js",
    "files": [
      "dist"
    ],
    "unpkg": "dist/react-onclickoutside.min.js",
    "homepage": "https://github.com/Pomax/react-onclickoutside",
    "authors": [
      "Pomax <pomax@nihongoresources.com>",
      "Andarist <mateuszburzynski@gmail.com>"
    ],
    "funding": {
      "type": "individual",
      "url": "https://github.com/Pomax/react-onclickoutside/blob/master/FUNDING.md"
    },
    "keywords": [
      "react",
      "onclick",
      "outside",
      "onclickoutside"
    ],
    "license": "MIT",
    "repository": {
      "type": "git",
      "url": "https://github.com/Pomax/react-onclickoutside.git"
    },
    "bugs": {
      "url": "https://github.com/Pomax/react-onclickoutside/issues"
    },
    "scripts": {
      "clean": "rimraf dist",
      "prebuild": "npm run clean",
      "build": "rollup -c rollup.config.js --compact",
      "lint": "eslint src/*.js ./test",
      "test": "run-s test:**",
      "test:basic": "run-s lint build",
      "test:karma": "karma start test/karma.conf.js --single-run",
      "test:nodom": "mocha test/no-dom-test.js",
      "precommit": "npm test && lint-staged",
      "prepare": "npm run build",
      "prerelease": "npm run test",
      "release:patch": "npm run prerelease && npm version patch && npm publish && git push --follow-tags",
      "release:minor": "npm run prerelease && npm version minor && npm publish && git push --follow-tags",
      "release:major": "npm run prerelease && npm version major && npm publish && git push --follow-tags"
    },
    "devDependencies": {
      "@babel/core": "^7.14.2",
      "@babel/plugin-proposal-class-properties": "^7.13.0",
      "@babel/plugin-proposal-object-rest-spread": "^7.14.2",
      "@babel/preset-env": "^7.14.2",
      "@babel/preset-stage-0": "^7.8.3",
      "@rollup/plugin-babel": "^5.3.0",
      "babel-eslint": "^8.0.2",
      "babel-loader": "^8.2.2",
      "chai": "^4.1.2",
      "eslint": "^4.12.0",
      "husky": "^0.14.3",
      "karma": "^6.3.2",
      "karma-chai": "^0.1.0",
      "karma-firefox-launcher": "^2.1.0",
      "karma-mocha": "^2.0.1",
      "karma-spec-reporter": "0.0.31",
      "karma-webpack": "^5.0.0",
      "lint-staged": "^5.0.0",
      "mocha": "^8.4.0",
      "npm-run-all": "^4.0.2",
      "prettier": "^1.8.2",
      "react": "^15.5.x",
      "react-dom": "^15.5.x",
      "react-test-renderer": "^15.5.x",
      "require-hijack": "^1.2.1",
      "rimraf": "^2.6.2",
      "rollup": "^2.50.1",
      "webpack": "^5.37.1"
    },
    "peerDependencies": {
      "react": "^15.5.x || ^16.x || ^17.x || ^18.x",
      "react-dom": "^15.5.x || ^16.x || ^17.x || ^18.x"
    },
    "lint-staged": {
      "{src,test}/**/*.js": [
        "prettier --print-width=120 --single-quote --trailing-comma=all --write",
        "eslint --fix",
        "git add"
      ],
      "*.md": [
        "prettier --write",
        "git add"
      ]
    },
    "_registry": "npm",
    "_loc": "/home/ubuntu/.cache/yarn/v6/npm-react-onclickoutside-6.13.0-integrity/node_modules/react-onclickoutside/package.json",
    "readmeFilename": "README.md",
    "readme": "[![npm version](https://img.shields.io/npm/v/react-onclickoutside.svg)](https://www.npmjs.com/package/react-onclickoutside)\n[![Build Status](https://travis-ci.org/Pomax/react-onclickoutside.svg?branch=master)](https://travis-ci.org/Pomax/react-onclickoutside)\n[![npm](https://img.shields.io/npm/dm/react-onclickoutside.svg)](https://www.npmjs.com/package/react-onclickoutside)\n\n# :warning: Open source is free, but developer time isn't :warning:\n\n**This package needs your support to stay maintained.** If you work for an organization\nwhose website is better off using react-onclickoutside than rolling its own code\nsolution, please consider talking to your manager to help\n[fund this project](https://www.paypal.com/donate/?cmd=_s-xclick&hosted_button_id=QPRDLNGDANJSW).\nOpen Source is free to use, but certainly not free to develop. If you have the\nmeans to reward those whose work you rely on, please consider doing so.\n\n\n# An onClickOutside wrapper for React components\n\nThis is a React Higher Order Component (HOC) that you can use with your own\nReact components if you want to have them listen for clicks that occur somewhere\nin the document, outside of the element itself (for instance, if you need to\nhide a menu when people click anywhere else on your page).\n\nNote that this HOC relies on the `.classList` property, which is supported by\nall modern browsers, but not by deprecated and obsolete browsers like IE (noting\nthat Microsoft Edge is not Microsoft Internet Explorer. Edge does not have any\nproblems with the `classList` property for SVG elements). If your code relies on\nclassList in any way, you want to use a polyfill like\n[dom4](https://github.com/WebReflection/dom4).\n\nThis HOC supports stateless components as of v5.7.0, and switched to using\ntranspiled es6 classes rather than `createClass` as of v6.\n\n## Sections covered in this README\n\n* [Installation](#installation)\n* [Usage:](#usage)\n  * [ES6 Class Component](#es6-class-component)\n  * [Functional Component with UseState Hook](#functional-component-with-usestate-hook)\n  * [CommonJS Require](#commonjs-require)\n* [Ensuring there's a click handler](#ensuring-there-is-a-click-handler)\n* [Regulate which events to listen for](#regulate-which-events-to-listen-for)\n* [Regulate whether or not to listen for outside clicks](#regulate-whether-or-not-to-listen-for-outside-clicks)\n* [Regulate whether or not to listen to scrollbar clicks](#regulate-whether-or-not-to-listen-to-scrollbar-clicks)\n* [Regulating `evt.preventDefault()` and `evt.stopPropagation()`](#regulating-evtpreventdefault-and-evtstoppropagation)\n* [Marking elements as \"skip over this one\" during the event loop](#marking-elements-as-skip-over-this-one-during-the-event-loop)\n* [Older React code: \"What happened to the Mixin??\"](#older-react-code-what-happened-to-the-mixin)\n  * [But how can I access my component? It has an API that I rely on!](#but-how-can-i-access-my-component-it-has-an-api-that-i-rely-on)\n* [Which version do I need for which version of React?](#which-version-do-i-need-for-which-version-of-react)\n  * [Support-wise, only the latest version will receive updates and bug fixes.](#support-wise-only-the-latest-version-will-receive-updates-and-bug-fixes)\n* [IE does not support classList for SVG elements!](#ie-does-not-support-classlist-for-svg-elements)\n* [I can't find what I need in the README](#i-cant-find-what-i-need-in-the-readme)\n\n## Installation\n\nUse `npm`:\n\n```\n$> npm install react-onclickoutside --save\n```\n\n(or `--save-dev` depending on your needs). You then use it in your components\nas:\n\n\n## Usage\n\n### ES6 Class Component\n\n```js\nimport React, { Component } from \"react\";\nimport onClickOutside from \"react-onclickoutside\";\n\nclass MyComponent extends Component {\n  handleClickOutside = evt => {\n    // ..handling code goes here...\n  };\n}\n\nexport default onClickOutside(MyComponent);\n```\n\n### Functional Component with UseState Hook\n\nThis HoC does not support functional components, as it relies on class properties and component instances. However, you almost certainly don't need this HoC in modern (React 16+) functional component code, as a simple function will do the trick just fine. E.g.:\n\n```js\nfunction listenForOutsideClicks(listening, setListening, menuRef, setIsOpen) {\n  return () => {\n    if (listening) return;\n    if (!menuRef.current) return;\n    setListening(true);\n    [`click`, `touchstart`].forEach((type) => {\n      document.addEventListener(`click`, (evt) => {\n        if (menuRef.current.contains(evt.target)) return;\n        setIsOpen(false);\n      });\n    });\n  }\n}\n```\n\nUsed in a functional component as:\n\n```js\nimport React, { useEffect, useState, useRef } from \"react\";\nimport listenForOutsideClicks from \"./somewhere\";\n\nconst Menu = () => {\n  const menuRef = useRef(null);\n  const [listening, setListening] = useState(false);\n  const [isOpen, setIsOpen] = useState(false);  \n  const toggle = () => setIsOpen(!isOpen);\n\n  useEffect(listenForOutsideClick(\n    listening,\n    setListening,\n    menuRef,\n    setIsOpen,\n  ));\n\n  return (\n    <div ref={menuRef} className={isOpen ? \"open\" : \"hidden\"}>\n      <h1 onClick={toggle}>...</h1>\n      <ul>...</ul>\n    </div>\n  );\n};\n\nexport default Menu;\n```\n\nExample: https://codesandbox.io/s/trusting-dubinsky-k3mve\n\n\n### CommonJS Require\n\n```js\n// .default is needed because library is bundled as ES6 module\nvar onClickOutside = require(\"react-onclickoutside\").default;\nvar createReactClass = require(\"create-react-class\");\n\n// create a new component, wrapped by this onclickoutside HOC:\nvar MyComponent = onClickOutside(\n  createReactClass({\n    // ...,\n    handleClickOutside: function(evt) {\n      // ...handling code goes here...\n    }\n    // ...\n  })\n);\n```\n\n### Ensuring there is a click handler\n\nNote that if you try to wrap a React component class without a\n`handleClickOutside(evt)` handler like this, the HOC will throw an error. In\norder to use a custom event handler, you can specify the function to be used by\nthe HOC as second parameter (this can be useful in environments like TypeScript,\nwhere the fact that the wrapped component does not implement the handler can be\nflagged at compile-time):\n\n```js\n// load the HOC:\nimport React, { Component } from \"react\";\nimport onClickOutside from \"react-onclickoutside\";\n\n// create a new component, wrapped below by onClickOutside HOC:\nclass MyComponent extends Component {\n  // ...\n  myClickOutsideHandler(evt) {\n    // ...handling code goes here...\n  }\n  // ...\n}\nvar clickOutsideConfig = {\n  handleClickOutside: function(instance) {\n    return instance.myClickOutsideHandler;\n  }\n};\nvar EnhancedComponent = onClickOutside(MyComponent, clickOutsideConfig);\n```\n\nNote that if you try to wrap a React component with a custom handler that the\ncomponent does not implement, the HOC will throw an error at run-time.\n\n## Regulate which events to listen for\n\nBy default, \"outside clicks\" are based on both `mousedown` and `touchstart`\nevents; if that is what you need, then you do not need to specify anything\nspecial. However, if you need different events, you can specify these using the\n`eventTypes` property. If you just need one event, you can pass in the event\nname as plain string:\n\n```js\n<MyComponent eventTypes=\"click\" ... />\n```\n\nFor multiple events, you can pass in the array of event names you need to listen\nfor:\n\n```js\n<MyComponent eventTypes={[\"click\", \"touchend\"]} ... />\n```\n\n## Regulate whether or not to listen for outside clicks\n\nWrapped components have two functions that can be used to explicitly listen for,\nor do nothing with, outside clicks\n\n* `enableOnClickOutside()` - Enables outside click listening by setting up the\n  event listening bindings.\n* `disableOnClickOutside()` - Disables outside click listening by explicitly\n  removing the event listening bindings.\n\nIn addition, you can create a component that uses this HOC such that it has the\ncode set up and ready to go, but not listening for outside click events until\nyou explicitly issue its `enableOnClickOutside()`, by passing in a properly\ncalled `disableOnClickOutside`:\n\n```js\nimport React, { Component } from \"react\";\nimport onClickOutside from \"react-onclickoutside\";\n\nclass MyComponent extends Component {\n  // ...\n  handleClickOutside(evt) {\n    // ...\n  }\n  // ...\n}\nvar EnhancedComponent = onClickOutside(MyComponent);\n\nclass Container extends Component {\n  render(evt) {\n    return <EnhancedComponent disableOnClickOutside={true} />;\n  }\n}\n```\n\nUsing `disableOnClickOutside()` or `enableOnClickOutside()` within\n`componentDidMount` or `componentWillMount` is considered an anti-pattern, and\ndoes not have consistent behaviour when using the mixin and HOC/ES7 Decorator.\nFavour setting the `disableOnClickOutside` property on the component.\n\n## Regulate whether or not to listen to scrollbar clicks\n\nBy default this HOC will listen for \"clicks inside the document\", which may\ninclude clicks that occur on the scrollbar. Quite often clicking on the\nscrollbar _should_ close whatever is open but in case your project invalidates\nthat assumption you can use the `excludeScrollbar` property to explicitly tell\nthe HOC that clicks on the scrollbar should be ignored:\n\n```js\nimport React, { Component } from \"react\";\nimport onClickOutside from \"react-onclickoutside\";\n\nclass MyComponent extends Component {\n  // ...\n}\nvar EnhancedComponent = onClickOutside(MyComponent);\n\nclass Container extends Component {\n  render(evt) {\n    return <EnhancedComponent excludeScrollbar={true} />;\n  }\n}\n```\n\nAlternatively, you can specify this behavior as default for all instances of\nyour component passing a configuration object as second parameter:\n\n```js\nimport React, { Component } from \"react\";\nimport onClickOutside from \"react-onclickoutside\";\n\nclass MyComponent extends Component {\n  // ...\n}\nvar clickOutsideConfig = {\n  excludeScrollbar: true\n};\nvar EnhancedComponent = onClickOutside(MyComponent, clickOutsideConfig);\n```\n\n## Regulating `evt.preventDefault()` and `evt.stopPropagation()`\n\nTechnically this HOC lets you pass in `preventDefault={true/false}` and\n`stopPropagation={true/false}` to regulate what happens to the event when it\nhits your `handleClickOutside(evt)` function, but beware: `stopPropagation` may\nnot do what you expect it to do.\n\nEach component adds new event listeners to the document, which may or may not\ncause as many event triggers as there are event listening bindings. In the test\nfile found in `./test/browser/index.html`, the coded uses\n`stopPropagation={true}` but sibling events still make it to \"parents\".\n\n## Marking elements as \"skip over this one\" during the event loop\n\nIf you want the HOC to ignore certain elements, you can tell the HOC which CSS\nclass name it should use for this purposes. If you want explicit control over\nthe class name, use `outsideClickIgnoreClass={some string}` as component\nproperty, or if you don't, the default string used is\n`ignore-react-onclickoutside`.\n\n## Older React code: \"What happened to the Mixin??\"\n\nDue to ES2015/ES6 `class` syntax making mixins essentially impossible, and the\nfact that HOC wrapping works perfectly fine in ES5 and older versions of React,\nas of this package's version 5.0.0 no Mixin is offered anymore.\n\nIf you _absolutely_ need a mixin... you really don't.\n\n### But how can I access my component? It has an API that I rely on!\n\nNo, I get that. I constantly have that problem myself, so while there is no\nuniversal agreement on how to do that, this HOC offers a `getInstance()`\nfunction that you can call for a reference to the component you wrapped, so that\nyou can call its API without headaches:\n\n```js\nimport React, { Component } from 'react'\nimport onClickOutside from 'react-onclickoutside'\n\nclass MyComponent extends Component {\n  // ...\n  handleClickOutside(evt) {\n    // ...\n  }\n  ...\n}\nvar EnhancedComponent = onClickOutside(MyComponent);\n\nclass Container extends Component {\n  constructor(props) {\n    super(props);\n    this.getMyComponentRef = this.getMyComponentRef.bind(this);\n  }\n\n  someFunction() {\n    var ref = this.myComponentRef;\n    // 1) Get the wrapped component instance:\n    var superTrueMyComponent = ref.getInstance();\n    // and call instance functions defined for it:\n    superTrueMyComponent.customFunction();\n  }\n\n  getMyComponentRef(ref) {\n    this.myComponentRef = ref;\n  }\n\n  render(evt) {\n    return <EnhancedComponent disableOnClickOutside={true} ref={this.getMyComponentRef}/>\n  }\n}\n```\n\nNote that there is also a `getClass()` function, to get the original Class that\nwas passed into the HOC wrapper, but if you find yourself needing this you're\nprobably doing something wrong: you really want to define your classes as real,\nrequire'able etc. units, and then write wrapped components separately, so that\nyou can always access the original class's `statics` etc. properties without\nneeding to extract them out of a HOC.\n\n## Which version do I need for which version of React?\n\nIf you use **React 0.12 or 0.13**, **version 2.4 and below** will work.\n\nIf you use **React 0.14**, use **v2.5 through v4.9**, as these specifically use\n`react-DOM` for the necessary DOM event bindings.\n\nIf you use **React 15**, you can use **v4.x, which offers both a mixin and HOC,\nor use v5.x, which is HOC-only**.\n\nIf you use **React 15.5**, you can use **v5.11.x**, which relies on\n`createClass` as supplied by `create-react-class` rather than\n`React.createClass`.\n\nIf you use **React 16** or 15.5 in preparation of 16, use v6.x, which uses pure\nclass notation.\n\n### Support-wise, only the latest version will receive updates and bug fixes.\n\nI do not believe in perpetual support for outdated libraries, so if you find one\nof the older versions is not playing nice with an even older React: you know\nwhat to do, and it's not \"keep using that old version of React\".\n\n## IE does not support classList for SVG elements!\n\nThis is true, but also an edge-case problem that only exists for IE11 (as all\nversions prior to 11 [no longer exist](https://support.microsoft.com/en-us/help/17454/lifecycle-faq-internet-explorer)), and should be addressed by you, rather\nthan by thousands of individual libraries that assume browsers have proper\nHTML API  implementations (IE Edge has proper `classList` support even for SVG).\n\nIf you need this to work, you can add a shim for `classList` to your page(s),\nloaded before you load your React code, and you'll have instantly fixed _every_\nlibrary that you might remotely rely on that makes use of the `classList`\nproperty. You can find several shims quite easily, a good one to start with is\nthe [dom4](https://github.com/WebReflection/dom4) shim, which adds all manner of\ngood DOM4 properties to \"not quite at DOM4 yet\" browser implementations.\n\nEventually this problem will stop being one, but in the mean time _you_ are\nresponsible for making _your_ site work by shimming everything that needs\nshimming for IE. As such, **if you file a PR to fix classList-and-SVG issues\nspecifically for this library, your PR will be closed and I will politely point\nyou to this README.md section**. I will not accept PRs to fix this issue. You\nalready have the power to fix it, and I expect you to take responsibility as a\nfellow developer to shim what you need instead of getting obsolete quirks\nsupported by libraries whose job isn't to support obsolete quirks.\n\nTo work around the issue you can use this simple shim:\n\n```js\nif (!(\"classList\" in SVGElement.prototype)) {\n  Object.defineProperty(SVGElement.prototype, \"classList\", {\n    get() {\n      return {\n        contains: className => {\n          return this.className.baseVal.split(\" \").indexOf(className) !== -1;\n        }\n      };\n    }\n  });\n}\n```\n\n## I can't find what I need in the README\n\nIf you've read the whole thing and you still can't find what you were looking\nfor, then the README is missing important information that should be added in.\nPlease [file an issue](https://github.com/Pomax/react-onclickoutside/issues) with a request for additional documentation,\ndescribing what you were hoping to find in enough detail that it can be used to\nwrite up the information you needed.\n",
    "licenseText": "Copyright 2015-2022 Mike \"Pomax\" Kamermans\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n"
  },
  "artifacts": [],
  "remote": {
    "resolved": "https://registry.npmjs.org/react-onclickoutside/-/react-onclickoutside-6.13.0.tgz",
    "type": "tarball",
    "reference": "https://registry.npmjs.org/react-onclickoutside/-/react-onclickoutside-6.13.0.tgz",
    "hash": "",
    "integrity": "sha512-ty8So6tcUpIb+ZE+1HAhbLROvAIJYyJe/1vRrrcmW+jLsaM+/powDRqxzo6hSh9CuRZGSL1Q8mvcF5WRD93a0A==",
    "registry": "npm",
    "packageName": "react-onclickoutside",
    "cacheIntegrity": "sha512-ty8So6tcUpIb+ZE+1HAhbLROvAIJYyJe/1vRrrcmW+jLsaM+/powDRqxzo6hSh9CuRZGSL1Q8mvcF5WRD93a0A== sha1-4WXqTlFX89qU9DdqOrPiKlZfT/w="
  },
  "registry": "npm",
  "hash": "b72f12a3ab5c52921bf9913ed470216cb44ebc020963225eff5bd1aeb7265be8cbb1a33efe9a300d1ab1ce8ea14a1f42b9164648bd50f26bdc1795910fdddad0"
}